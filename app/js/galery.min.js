function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e){n="";for(name in e){var r=e[name];n+=" "+name+": "+r}}if(1!=t||i||(n+=" "+Math.random()),1==i){var o=jQuery("#debug_line");o.width(200),o.height()>=500&&o.html(""),n=o.html()+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var r=e[n];if(r+"Transform"in i.style)return r=r.toLowerCase(),t=r,r}return t="",""},this.getImageInsideParentDataByImage=function(e,t,n){var r=e.parent(),o=i.getImageOriginalSize(e);return i.getImageInsideParentData(r,o.width,o.height,t,n)},this.getImageInsideParentData=function(e,t,i,n,r,o,a){if(!r)var r={};var s={};if(void 0===o)var o=e.width();if(void 0===a)var a=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(a-=r.padding_top),r.padding_bottom&&(a-=r.padding_bottom);var l=null,u="100%",d=null,c=null,g="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&o>t&&a>i)u=i,l=t,c=(o-l)/2,d=(a-u)/2;else if("fill"==n)o>(l=(u=a)*(h=t/i))?(l=o,u=l/h,c=0,d=Math.round((u-a)/2*-1)):(d=0,c=Math.round((l-o)/2*-1));else{var h=t/i;d=0,c=(o-(l=(u=a)*h))/2,"fitvert"!=n&&l>o&&(l=o,u=l/h,c=0,d=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),c=Math.floor(c),g="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(c+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=c,s.imageRight=c+l,s.imageBottom=0==d||"100%"==u?null:d+u,s.style=g,s},this.getElementCenterPosition=function(e,t){var n=e.parent(),r=i.getElementSize(e),o=i.getElementSize(n),a=o.width,s=o.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(a-=t.padding_left),t&&void 0!==t.padding_right&&(a-=t.padding_right);var l={};return l.left=Math.round((a-r.width)/2),l.top=Math.round((s-r.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),r={};return r.x=n.width/2,r.y=n.height/2,1==t&&(r.x+=n.left,r.y+=n.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY};return i.getElementLocalPoint(n,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var r={};if(void 0===n.naturalWidth){if("number"==typeof e.data("naturalWidth"))return(r={}).width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r;var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}}return r.width=n.naturalWidth,r.height=n.naturalHeight,r},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e);return i.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width<=r.width&&n.height<=r.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width>r.width||n.height>r.height},this.isPointInsideElement=function(e,t){return 0!=(e.x>=0&&e.x<t.width)&&0!=(e.y>=0&&e.y<t.height)},this.getElementRelativePos=function(e,t,n,r){if(!r)var r=e.parent();if("number"==typeof e)o={width:e,height:e};else var o=i.getElementSize(e);var a=i.getElementSize(r);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((a.width-o.width)/2),n&&(t+=n);break;case"right":t=a.width-o.width,n&&(t-=n);break;case"middle":t=Math.round((a.height-o.height)/2),n&&(t+=n);break;case"bottom":t=a.height-o.height,n&&(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,r,o,a,s){if(!n)var n=1.2;if(!o)var o="fit";var l,u,d,c,g=n,h=e.parent(),p=i.getElementSize(e),_=i.getImageOriginalSize(e),f=!1,m=0,v=0,b=0,y=0;if(r){var w=i.getMouseElementPoint(r,e);f=i.isPointInsideElement(w,p),b=w.x,y=w.y}else f=!1;if(0==f){var T=i.getElementCenterPoint(e);b=T.x,y=T.y}if(1==t)l=p.height*g,u=p.width*g,0!=b&&(m=-(b*g-b)),0!=y&&(v=-(y*g-y));else{if(l=p.height/g,(u=p.width/g)<i.getImageInsideParentData(h,_.width,_.height,o,s).imageWidth)return i.scaleImageFitParent(e,_.width,_.height,o,s),!0;1==f&&(0!=b&&(m=-(b/g-b)),0!=y&&(v=-(y/g-y)))}if(a){var x=1;if(0!=_.width&&(x=u/_.width),x>a)return!1}if(i.setElementSize(e,u,l),0==t&&0==f){var E=i.getElementCenterPosition(e);d=E.left,c=E.top}else d=p.left+m,c=p.top+v;return i.placeElement(e,d,c),!0},this.placeElement=function(e,t,n,r,o,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!a)var a=e.parent();var s=i.getElementSize(e),l=i.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((l.width-s.width)/2),r&&(t+=r);break;case"right":t=l.width-s.width,r&&(t-=r)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,o&&(n+=o);break;case"middle":case"center":n=Math.round((l.height-s.height)/2),o&&(n+=o);break;case"bottom":n=l.height-s.height,o&&(n-=o)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==n&&(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!==i&&void 0!==i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,r,o){var a=e.position();if(void 0==a)throw new Error("Can't get size, empty element");!0===n?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),r&&(a.left+=r),o&&(a.top+=o),i.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,n,r,o,a){var s=i.getImageInsideParentData(t,n,r,o,a),l="<img";return null!==s.imageWidth&&(l+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),e=i.escapeDoubleSlash(e),l+=" style='"+s.style+"'",l+=' src="'+e+'"',l+=">",t.html(l),t.children("img")},this.scaleImageCoverParent=function(e,t,n){if("number"==typeof t)var r=t,o=n;else var r=t.outerWidth(),o=t.outerHeight();var a=i.getImageOriginalSize(e),s=a.width/a.height,l=o,u=l*s,d=0,c=0;r>u?(u=r,l=u/s,c=0,d=Math.round((l-o)/2*-1)):(d=0,c=Math.round((u-r)/2*-1)),u=Math.round(u),l=Math.round(l),e.css({width:u+"px",height:l+"px",left:c+"px",top:d+"px"})},this.scaleImageFitParent=function(e,t,n,r,o){var a=e.parent(),s=i.getImageInsideParentData(a,t,n,r,o),l=!1,u={};return null!==s.imageWidth&&(l=!0,e.removeAttr("width"),u.width=s.imageWidth+"px"),null!=s.imageHeight&&(l=!0,e.removeAttr("height"),u.height=s.imageHeight+"px"),null!==s.imageTop&&(l=!0,u.top=s.imageTop+"px"),null!==s.imageLeft&&(l=!0,u.left=s.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),s},this.scaleImageByHeight=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t*a);t=Math.round(t),i.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t/a);t=Math.round(t),i.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,n,r,o,a){var s=e.parent(),l=i.getElementSize(s);l.width<r&&(r=l.width),l.height<o&&(o=l.height);var u=i.getImageInsideParentData(null,t,n,a,null,r,o),d=r,c=o,g=u.imageLeft,h=u.imageLeft,p=u.imageTop,_=u.imageTop,f=Math.round((l.width-r)/2),m=Math.round((l.height-o)/2),v=r-(u.imageWidth+g+h);0!=v&&(h+=v),0!=(v=o-(u.imageHeight+p+_))&&(_+=v),e.removeAttr("width"),e.removeAttr("height");var b={position:"absolute",margin:"0px 0px"};b.width=d+"px",b.height=c+"px",b.left=f+"px",b.top=m+"px",b["padding-left"]=g+"px",b["padding-top"]=p+"px",b["padding-right"]=h+"px",b["padding-bottom"]=_+"px",e.css(b);var y={};return y.imageWidth=d,y.imageHeight=c,y},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,r){if(0===e.indexOf(t+"_"+i+"_")){var o=e.replace(t+"_"+i+"_",i+"_");n[o]=r}else n[e]=r}),n},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)var o=!1;return r=e+(t-e)*((r-i)/(n-i)),1==o&&(e>r&&(r=e),r>t&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){return r=e+(n-i)*((r-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return 0>e?-1:0>t?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row-1,n.col,t)},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row+1,n.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e);if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>15?t.scrollDir="hor":Math.abs(t.diffMouseY)>15&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var r=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return r>=0&&jQuery(document).scrollTop(r),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===i.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,r){var o=i.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&&(s=jQuery.extend(s,r)),n.dataCache[t]=s},this.updateStoredEventData=function(e,t,r){if(!n.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var o=n.dataCache[t],a=i.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==a.pageX&&(o.lastMouseX=a.pageX,o.lastMouseY=a.pageY,o.lastMouseClientY=a.clientY),r&&(o=jQuery.extend(o,r)),n.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var r=i.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return!(r.diffTime>400)&&!(o>30)},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(-1!==n.isRgbaSupported)return n.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=i,i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;r>n;n++){var o=parseInt(t[n]),a=parseInt(i[n]);if(void 0===i[n])return!0;if(a>o)return!1;if(o>a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-n.starTime},!0)},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":(r=new UGProgressBar).putHidden(n,t);break;default:case"pie":(r=new UGProgressPie).putHidden(n,t);break;case"pie2":t.type_fill=!0;var r=new UGProgressPie;r.putHidden(n,t)}return r},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==n.arrThemes.length?"":n.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var r=i-lastTime;return n.timeCache[e]=i,!(t>=r)},this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;1==n.timeCache.hasOwnProperty(e)&&null!=n.timeCache[e]&&(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&1e3>i&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==i.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);return 0==i.validateClickTouchstartEvent(e.type)||void t.trigger("tap")}):(e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover"),n.lastTouchStartElement=jQuery(this),n.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);return 0==t.is(n.lastTouchStartElement)||(!n.lastEventTime||(jQuery.now()-n.lastEventTime>n.touchThreshold||void t.trigger("tap")))}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){r++,"function"==typeof i&&setTimeout(function(){i(e,n)}),r==o&&"function"==typeof t&&setTimeout(function(){t()})}var r=0,o=e.length;return 0==o&&t?(t(),!1):void setTimeout(function(){for(var t=0;o>t;t++){var i=e[t];if(void 0!==i.naturalWidth&&0!==i.naturalWidth)n(e[t],!1);else{var r=jQuery("<img/>");r.data("index",t),r.on("load",function(){var t=jQuery(this).data("index");n(e[t],!1)}),r.on("error",function(){var t=jQuery(this).data("index");n(e[t],!0)}),r.attr("src",i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(n.handle=setInterval(function(){0!=(i=e.width())&&(clearInterval(n.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t){var i=T[e],n="";0==C.customThumbs&&(n=" ug-thumb-generated");a="<div class='ug-thumb-wrapper"+n+"' "+("style='z-index:"+(i.index+1)+";'")+"></div>";if(1==j.thumb_wrapper_as_link){var r=i.link;""==i.link&&(r="javascript:void(0)");var o="";1==j.thumb_link_newpage&&i.link&&(o=" target='_blank'");var a="<a href='"+r+"'"+o+" class='ug-thumb-wrapper"+n+"'></a>"}var s=jQuery(a),l=i.objThumbImage;if(0==C.customThumbs){if(1==j.thumb_show_loader&&l){var u="ug-thumb-loader-dark";"bright"==j.thumb_loader_type&&(u="ug-thumb-loader-bright"),s.append("<div class='ug-thumb-loader "+u+"'></div>"),s.append("<div class='ug-thumb-error' style='display:none'></div>")}if(l){if(l.addClass("ug-thumb-image"),1==j.thumb_image_overlay_effect){var d=l.clone().appendTo(s);d.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),d.fadeTo(0,0),i.objImageOverlay=d}s.append(l)}}return C.isEffectBorder&&s.append("<div class='ug-thumb-border-overlay'></div>"),C.isEffectOverlay&&s.append("<div class='ug-thumb-overlay'></div>"),x.append(s),C.customThumbs&&C.funcSetCustomThumbHtml(s,i),T[e].objThumbWrapper=s,s}function t(e,t,i,n){var r={width:e+"px",height:t+"px"},o={width:e-C.thumbInnerReduce+"px",height:t-C.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(r),i.find(a).css(o)):(x.children(".ug-thumb-wrapper").css(r),x.find(a).css(o))}function i(e,t,i,n){if(!n)var n=!1;S.isFakeFullscreen()&&(n=!0);var r=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=i),n&&!0===n?(r.css(o),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(j.thumb_transition_duration):r.show().stop().fadeIn(j.thumb_transition_duration),l(r,o))}function n(e,t,i){var n=e.children(".ug-thumb-overlay"),r=j.thumb_transition_duration;i&&!0===i&&(r=0),t?n.stop(!0).fadeTo(r,C.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function r(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=j.thumb_transition_duration;i&&!0===i&&(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function o(e,t){C.isEffectBorder&&i(e,j.thumb_selected_border_width,j.thumb_selected_border_color,t),C.isEffectOverlay&&n(e,1==j.thumb_overlay_reverse,t),C.isEffectImage&&r(e,!1,t),I.trigger(E.events.SETSELECTEDSTYLE,e)}function a(e){var t=E.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==C.customThumbs?(I.trigger(E.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function s(e){if(j.thumb_round_corners_radius<=0)return!1;var t={"border-radius":j.thumb_round_corners_radius+"px"};e?(e.css(t),e.find(".ug-thumb-border-overlay").css(t)):x.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}function l(e,t){e.stop(!0).animate(t,{duration:j.thumb_transition_duration,easing:j.thumb_transition_easing,queue:!1})}function u(e){1==h(e)?o(e,!0,"redraw"):E.setThumbNormalStyle(e,!0,"redraw")}function d(e,i,n){if(1==j.thumb_fixed_size)P.scaleImageCoverParent(i,e);else{"height"==j.thumb_resize_by?P.scaleImageByHeight(i,j.thumb_height):P.scaleImageByWidth(i,j.thumb_width);var r=P.getElementSize(i);P.placeElement(i,0,0),t(r.width,r.height,e)}e.children(".ug-thumb-loader").hide(),i.show(),0==j.thumb_image_overlay_effect?i.fadeTo(0,1):(1==j.thumb_image_overlay_effect&&c(i),i.fadeTo(0,0),u(e)),I.trigger(E.events.AFTERPLACEIMAGE,e)}function c(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var i=P.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==C.customThumbs&&t.fadeTo(0,1)}function g(){var e="",t=j.thumb_image_overlay_type.split(",");for(var i in t)switch(t[i]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}return e}function h(e){return!!e.hasClass("ug-thumb-selected")}function p(e,i){i=jQuery(i);var n=(E.getItemByThumb(i),P.getElementSize(i));t(n.width,n.height,i,!0),u(i)}function _(e){return 1==C.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==h(e)&&E.setThumbOverStyle(e))}function f(e){return 1==C.touchEnabled||void(0==h(e)&&E.setThumbNormalStyle(e,!1))}function m(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");return 0!=n.parent().length&&(objItem=E.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(E.triggerImageLoadedEvent(n,i),void(1==C.customThumbs?I.trigger(E.events.PLACEIMAGE,[n,i]):d(n,i,objItem))))}function v(e,t,i){objItem=E.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=P.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass("ug-thumb-ratio-set")}var b,y,w,T,x,E=this,I=jQuery(E),S=new UniteGalleryMain,P=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"},this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var j={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},C={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},A={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){y=e.getObjects(),S=e,b=jQuery(e),w=y.g_objWrapper,T=y.g_arrItems,j=jQuery.extend(j,t),C.isEffectBorder=j.thumb_border_effect,C.isEffectOverlay=j.thumb_color_overlay_effect,C.isEffectImage=j.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(t,i){if(x=t,1==C.isEffectImage)var n=g();if(!0!==i)for(var r=S.getNumItems(),o=0;r>o;o++)e(o,n);else{E.getThumbs().removeClass(C.classNewThumb);var a=S.getNewAddedItemsIndexes();jQuery.each(a,function(t,i){e(i,n).addClass(C.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,o){1==C.customThumbs&&e.removeClass("ug-thumb-over"),C.isEffectBorder&&i(e,j.thumb_border_width,j.thumb_border_color,t),C.isEffectOverlay&&n(e,1!=j.thumb_overlay_reverse,t),C.isEffectImage&&r(e,!0,t),I.trigger(E.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==C.customThumbs&&e.addClass("ug-thumb-over"),C.isEffectBorder&&i(e,j.thumb_over_border_width,j.thumb_over_border_color),C.isEffectOverlay&&n(e,1==j.thumb_overlay_reverse),1==C.isEffectImage&&r(e,!1),I.trigger(E.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)var e=E.getThumbs();if(0==C.customThumbs&&(1==j.thumb_fixed_size&&t(j.thumb_width,j.thumb_height,e),s(e)),e.each(function(){u(jQuery(this))}),C.isEffectOverlay&&j.thumb_overlay_color){var i={};if(P.isRgbaSupported()){var n=P.convertHexToRGB(j.thumb_overlay_color,j.thumb_overlay_opacity);i["background-color"]=n}else i["background-color"]=j.thumb_overlay_color,C.colorOverlayOpacity=j.thumb_overlay_opacity;e.find(".ug-thumb-overlay").css(i)}},this.setThumbSelected=function(e){return 1==C.customThumbs&&e.removeClass("ug-thumb-over"),1==h(e)||(e.addClass("ug-thumb-selected"),void o(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),E.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){j=jQuery.extend(j,e)},this.setThumbInnerReduce=function(e){C.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(C.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");C.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(C.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(C.isEffectBorder=!1),C.isEffectImage=!1,i&&!1===i.allow_onresize&&(C.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return j},this.getNumThumbs=function(){return T.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=E.getThumbs();if(e>=t.length||0>e)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(e){var t=".ug-thumb-wrapper",i=".ug-thumb-ratio-set";switch(e){default:case E.type.GET_THUMBS_ALL:n=x.children(t);break;case E.type.GET_THUMBS_NO_RATIO:n=x.children(t).not(i);break;case E.type.GET_THUMBS_RATIO:n=x.children(t+i);break;case E.type.GET_THUMBS_NEW:var n=x.children("."+C.classNewThumb)}return n},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),T[t]},this.isThumbLoaded=function(e){return E.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:j.thumb_width,height:j.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=".ug-thumb-wrapper";1==C.allowOnResize&&w.on(A.eventSizeChange,p),I.on(E.events.THUMB_IMAGE_LOADED,v),x.on("touchstart",e,function(){C.touchEnabled=!0,x.off("mouseenter").off("mouseleave")}),x.on("mouseenter",e,function(e){_(jQuery(this))}),x.on("mouseleave",e,function(e){f(jQuery(this))})},this.destroy=function(){var e=".ug-thumb-wrapper";x.off("touchstart",e),w.off(A.eventSizeChange),x.off("mouseenter",e),x.off("mouseleave",e),I.off(E.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=x.find(".ug-thumb-image");P.checkImagesLoaded(e,null,function(e,t){0==t?m(e,!0):a(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){I.trigger(E.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){x.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,i){I=e.getObjects(),(N=e).attachThumbsPanel("strip",O),E=jQuery(e),S=I.g_objWrapper,P=I.g_arrItems,z=jQuery.extend(z,i),1==(L=z.strip_vertical_type)&&(z=jQuery.extend(z,G),z=jQuery.extend(z,i),i.thumb_resize_by="width"),H.init(e,i),t()}function t(){var e=H.getOptions();D.isNotFixedThumbs=!1===e.thumb_fixed_size,L=z.strip_vertical_type}function n(){H.setHtmlProperties(),o(),l(),s(),0==D.isRunOnce&&(1==z.strip_control_touch&&(M=new UGTouchThumbsControl).init(O),1==z.strip_control_avia&&(A=new UGAviaControl).init(O),_(),H.loadThumbsImages(),y()),D.isRunOnce=!0}function r(e){R.stripSize=e,R.stripActiveSize=0==L?R.stripSize-z.strip_padding_left-z.strip_padding_right:R.stripSize-z.strip_padding_top-z.strip_padding_bottom,R.stripActiveSize<0&&(R.stripActiveSize=0)}function o(){var e=C.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),o=H.getOptions();0==L?(R.thumbSize=i,1==o.thumb_fixed_size?R.thumbSecondSize=n:R.thumbSecondSize=o.thumb_height,r(j.width()),R.stripInnerSize=C.width()):(R.thumbSize=n,1==o.thumb_fixed_size?R.thumbSecondSize=i:R.thumbSecondSize=o.thumb_width,r(j.height()),R.stripInnerSize=C.height())}function a(e){0==L?C.width(e):C.height(e),R.stripInnerSize=e,_(),jQuery(O).trigger(O.events.INNER_SIZE_CHANGE)}function s(){var e=C.children(".ug-thumb-wrapper"),t=0,n=0;for(0==L&&(n=z.strip_padding_top),i=0;i<e.length;i++){var r=jQuery(e[i]);if(1==D.isNotFixedThumbs){if(objItem=H.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}k.placeElement(r,t,n),0==L?t+=r.outerWidth()+z.strip_space_between_thumbs:n+=r.outerHeight()+z.strip_space_between_thumbs}if(0==L)o=t-z.strip_space_between_thumbs;else var o=n-z.strip_space_between_thumbs;a(o)}function l(){if(0==L){var e=R.thumbSecondSize;(i={}).height=e+"px",(n={}).height=e+"px"}else{var t=R.thumbSecondSize,i={};i.width=t+"px";var n={};n.width=t+"px"}j.css(i),C.css(n)}function u(e){var t=O.getInnerStripPos()+e;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function d(e){var t=-1*x(e).min;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function c(e){var t=-1*x(e).max+R.stripSize;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function g(e){if(0==w())return!1;var t=T(),i=x(e);if(i.min<t.minPosThumbs){var n=e.prev();d(n.length?n:e)}else if(i.max>t.maxPosThumbs){var r=e.next();c(r.length?r:e)}}function h(){var e=N.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&g(t)}function p(){if(0==w())return!1;var e=O.getInnerStripPos(),t=O.fixInnerStripLimits(e);e!=t&&O.positionInnerStrip(t,!0)}function _(){1==w()?(A&&A.enable(),M&&M.enable()):(A&&A.disable(),M&&M.disable())}function f(){return!w()&&void(0==L?k.placeElement(C,z.strip_thumbs_align,0):k.placeElement(C,0,z.strip_thumbs_align))}function m(e){if(O.isTouchMotionActive()&&1==M.isSignificantPassed())return!0;var t=H.getItemByThumb(e);N.selectItem(t)}function v(){clearTimeout(D.handle),D.handle=setTimeout(function(){s()},50)}function b(){var e=N.getSelectedItem();H.setThumbSelected(e.objThumbWrapper),g(e.objThumbWrapper)}function y(){H.initEvents(),j.find(".ug-thumb-wrapper").on("click touchend",function(e){m(jQuery(this))}),E.on(N.events.ITEM_CHANGE,b),D.isNotFixedThumbs&&jQuery(H).on(H.events.AFTERPLACEIMAGE,v)}function w(){return R.stripInnerSize>R.stripActiveSize}function T(){var e={},t=O.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+R.stripSize-1,e}function x(e){var t={},i=e.position();return 0==L?(t.min=i.left,t.max=i.left+R.thumbSize):(t.min=i.top,t.max=i.top+R.thumbSize),t}var E,I,S,P,j,C,A,M,O=this,N=new UniteGalleryMain,k=new UGFunctions,L=!1,H=new UGThumbsGeneral,k=new UGFunctions,z={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},D={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},R={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var G={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=S;null!=z.parent_container&&(e=z.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),j=e.children(".ug-thumbs-strip"),C=j.children(".ug-thumbs-strip-inner"),H.setHtmlThumbs(C),1==D.isNotFixedThumbs&&H.hideThumbs()},this.destroy=function(){var e=j.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),E.off(N.events.ITEM_CHANGE),jQuery(H).off(H.events.AFTERPLACEIMAGE),M&&M.destroy(),A&&A.destroy(),H.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==L)i={left:e+"px"};else var i={top:e+"px"};0==t?(C.css(i),O.triggerStripMoveEvent()):(O.triggerStripMoveEvent(),C.stop(!0).animate(i,{duration:z.strip_scroll_to_thumb_duration,easing:z.strip_scroll_to_thumb_easing,queue:!1,progress:function(){O.triggerStripMoveEvent()},always:function(){O.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(O).trigger(O.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!M&&M.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*O.getInnerStripPos();if(0==L)var r=n+R.stripSize,o=i.left,a=i.left+t.width();else var r=n+R.stripSize,o=i.top,a=i.top+t.height();var s=!1;return a>=n&&r>=o&&(s=!0),s},this.getInnerStripPos=function(){return 0==L?C.position().left:C.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==L?z.strip_padding_left:z.strip_padding_top,e.minPos=-(R.stripInnerSize-R.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=O.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-R.stripSize)},this.scrollBack=function(){u(R.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){z=jQuery.extend(z,e),H.setOptions(e),t()},this.setSizeVertical=function(e){if(0==L)throw new Error("setSizeVertical error, the strip size is not vertical");var t=R.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",j.css(i),r(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",C.css(n),D.is_placed=!0,_()},this.setSizeHorizontal=function(e){if(1==L)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=R.thumbSecondSize+z.strip_padding_top+z.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",j.css(i),r(e);var n=z.strip_padding_left,o={};o.height=t+"px",o.left=n+"px",o.top="0px",C.css(o),D.is_placed=!0,_()},this.setPosition=function(e,t,i,n){k.placeElement(j,e,t,i,n)},this.resize=function(e){0==L?(j.width(e),R.stripActiveSize=e-z.strip_padding_left-z.strip_padding_right):(j.height(e),R.stripActiveSize=e-z.strip_padding_top-z.strip_padding_bottom),r(e),_(),p(),f(),h()},this.setThumbUnselected=function(e){H.setThumbUnselected(e)},this.setCustomThumbs=function(e){H.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=H.getOptions(),t=jQuery.extend(z,e);return{g_gallery:N,g_objGallery:E,g_objWrapper:S,g_arrItems:P,g_objStrip:j,g_objStripInner:C,g_aviaControl:A,g_touchThumbsControl:M,isVertical:L,g_options:t,g_thumbs:H}},this.getObjThumbs=function(){return H},this.getSelectedThumb=function(){var e=N.getSelectedItemIndex();return-1==e?null:H.getThumbByIndex(e)},this.getSizeAndPosition=function(){return k.getElementSize(j)},this.getHeight=function(){return j.outerHeight()},this.getWidth=function(){return j.outerWidth()},this.getSizes=function(){return R},this.isVertical=function(){return L},this.isPlaced=function(){return D.is_placed},this.isMoveEnabled=function(){return w()}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=E.lastTime-E.startTime,t.lastActiveTime=e-E.buttonReleaseTime,t.passedDistance=E.lastPos-E.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){x.thumb_touch_slowFactor=T.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==w?T.getMousePosition(e).pageX:T.getMousePosition(e).pageY}function n(e){var t=E.mousePos-e,i=E.innerPos-t,n=p.getInnerStripLimits();if(i>n.maxPos){r=i-n.maxPos;i=n.maxPos+r/3}if(i<n.minPos){var r=n.minPos-i;i=n.minPos-r/3}p.positionInnerStrip(i)}function r(e){var t=p.getInnerStripPos();E.mousePos=e,E.innerPos=t,E.lastPortionPos=t,E.lastDeltaTime=0,E.lastDeltaPos=0,E.startTime=jQuery.now(),E.startPos=E.innerPos,E.lastTime=E.startTime,E.lastPos=E.startPos,E.speed=0}function o(){var e=jQuery.now();e-E.lastTime>=x.touch_portion_time&&(E.lastDeltaTime=e-E.lastTime,E.lastDeltaTime>x.touch_portion_time&&(E.lastDeltaTime=x.touch_portion_time),E.lastDeltaPos=E.lastPos-E.lastPortionPos,E.lastPortionPos=E.lastPos,E.lastTime=e)}function a(){var e=x.thumb_touch_slowFactor,t=x.minDeltaTime,i=x.minPath,n=p.getInnerStripPos(),r=jQuery.now()-E.lastTime,o=n-E.lastPortionPos;t>r&&E.lastDeltaTime>0&&(r=E.lastDeltaTime,o=E.lastDeltaPos+o),t>r&&(r=t);var a=o>0?1:-1,l=0;r>0&&(l=o/r);var u=l*l/(2*e)*a;Math.abs(u)<=i&&(u=0);var d=p.getInnerStripPos(),c=d+u,g=p.fixInnerStripLimits(c),h=p.getInnerStripLimits(),_=x.limitsBreakAddition,f=!1,m=g;if(c>h.maxPos&&(f=!0,g=_,_>c&&(g=c)),c<h.minPos){f=!0;var v=h.minPos-_;g=v,c>v&&(g=c)}var y=g-d,T=Math.abs(Math.round(l/e));if(0!=u&&(T=T*y/u),d!=g){var I={left:g+"px"};1==w&&(I={top:g+"px"}),b.animate(I,{duration:T,easing:x.animationEasing,queue:!0,progress:s})}if(1==f){var S=x.returnAnimateSpeed,P={left:m+"px"};1==w&&(P={top:m+"px"}),b.animate(P,{duration:S,easing:x.returnAnimationEasing,queue:!0,progress:s})}}function s(){E.lastPos=p.getInnerStripPos(),p.triggerStripMoveEvent()}function l(){return 1==E.loop_active||(E.loop_active=!0,void(E.handle=setInterval(o,10)))}function u(e){if(0==E.loop_active)return!0;e&&a(i(e)),E.loop_active=!1,E.handle=clearInterval(E.handle)}function d(e){return 0==E.isControlEnabled||(E.buttonReleaseTime=jQuery.now(),0==E.touch_active?(u(e),!0):(e.preventDefault(),E.touch_active=!1,u(e),void v.removeClass("ug-dragging")))}function c(e){if(0==E.isControlEnabled)return!0;e.preventDefault(),E.touch_active=!0;var t=i(e);b.stop(!0),r(t),l(),v.addClass("ug-dragging")}function g(e){if(0==E.isControlEnabled)return!0;if(0==E.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return E.touch_active=!1,u(e),!0;var t=i(e);E.lastPos=p.getInnerStripPos(),n(t),o()}function h(){v.bind("mousedown touchstart",c),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",g)}var p,_,f,m,v,b,y,w,T=new UGFunctions,x={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},E={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){E.isControlEnabled=!0},this.disable=function(){E.isControlEnabled=!1},this.init=function(e){p=e,m=e.getObjects(),_=m.g_gallery,f=m.g_objGallery,v=m.g_objStrip,b=m.g_objStripInner,y=m.g_options,w=m.isVertical,t(),h()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){return 1==E.touch_active||(1==b.is(":animated")||e().lastActiveTime<50)},this.destroy=function(){v.unbind("mousedown"),v.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"}}o.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":g.placeElement(o,e,null);break;case"top":case"bottom":g.placeElement(o,null,e)}}function i(){s.trigger(r.events.FINISH_MOVE)}var n,r,o,a,s,l,u,d=new UniteGalleryMain,c=this,g=new UGFunctions;this.init=function(e,t,i,o,l){n=t,r=i,d=e,a=o,s=l,u=jQuery(d)},this.setHtml=function(e){if(o=e,"strip"==n.panelType)t=a.strippanel_enable_handle;else var t=a.gridpanel_enable_handle;if(1==t&&((l=new UGPanelHandle).init(r,o,a,n.panelType,d),l.setHtml()),!0===n.isDisabledAtStart){o.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){o.children(".ug-overlay-disabled").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(a){if(!a)var a=!1;return!o.is(":animated")&&(0!=n.isClosed&&(n.isClosed=!1,s.trigger(r.events.OPEN_PANEL),void(!1===a?e(n.originalPos,i):(t(n.originalPos),i()))))},this.closePanel=function(a){if(!a)var a=!1;if(o.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=c.getClosedPanelDest();n.isClosed=!0,s.trigger(r.events.CLOSE_PANEL),!1===a?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,s.trigger(r.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){s.trigger(r.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=g.getElementSize(o);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left,e=(i=d.getSize()).width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;var i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return!(0>=e)&&(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass("ug-button-hover")}function t(){s.addClass("ug-button-closed")}function i(){s.removeClass("ug-button-closed")}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)||void(a.isPanelClosed()?a.openPanel():a.closePanel())}function r(){switch(a.getOrientation()){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var o,a,s,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(a=e,o=t,n){case"grid":u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var s=r.getOptions().gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=s)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(a.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}o.append("<div class='"+e+" ug-skin-"+u.panel_handle_skin+"'></div>"),s=o.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(s),s.bind("click touchstart",n),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),i()}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(s),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(s);r();var t=a.getOrientation();switch(t){case"left":l.placeElement(s,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(s,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(s,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==s.is(":visible")&&s.hide()},this.showHandle=function(){0==s.is(":visible")&&s.show()}}function UGStripPanel(){function e(e,t){E=e,m=jQuery(E);var i=!1;1==(j=jQuery.extend(j,t)).strippanel_vertical_type&&(j=jQuery.extend(j,C),i=!0),0==j.strippanel_enable_buttons&&(j=jQuery.extend(j,A),i=!0),1==i&&(j=jQuery.extend(j,t));var n=E.getOptions().gallery_skin;""==j.strippanel_buttons_skin&&(j.strippanel_buttons_skin=n),v=E.getElement(),P.init(E,M,T,j,x),(S=new UGThumbsStrip).init(E,j)}function t(){if(0==j.strippanel_vertical_type){if(0==M.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==M.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==M.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){return(1!=M.isFirstRun||0!=t())&&(S.run(),s(),d(),f(),M.isFirstRun=!1,void h())}function n(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==j.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==j.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+j.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+i+" ug-skin-"+j.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}P.setHtml(b),S.setHtml(b),1==j.strippanel_enable_buttons&&(w=b.children("."+t),y=b.children("."+i)),r()}function r(){""!=j.strippanel_background_color&&b.css("background-color",j.strippanel_background_color)}function o(){var e=S.getHeight(),t=M.panelWidth;if(y){w.height(e),y.height(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var r=e+j.strippanel_padding_top+j.strippanel_padding_bottom;b.width(t),b.height(r),M.panelHeight=r;var o=t-j.strippanel_padding_left-j.strippanel_padding_right;y&&(o=o-2*y.outerWidth()-2*j.strippanel_padding_buttons),S.resize(o)}function a(){var e=S.getWidth(),t=M.panelHeight;if(y){w.width(e),y.width(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var r=e+j.strippanel_padding_left+j.strippanel_padding_right;b.width(r),b.height(t),M.panelWidth=r;var o=t-j.strippanel_padding_top-j.strippanel_padding_bottom;y&&(o=o-2*y.outerHeight()-2*j.strippanel_padding_buttons),S.resize(o)}function s(){0==j.strippanel_vertical_type?o():a()}function l(){y&&(I.placeElement(w,"left","top",j.strippanel_padding_left,j.strippanel_padding_top),I.placeElement(y,"right","top",j.strippanel_padding_right,j.strippanel_padding_top));var e=j.strippanel_padding_left;y&&(e+=y.outerWidth()+j.strippanel_padding_buttons),S.setPosition(e,j.strippanel_padding_top)}function u(){y&&(I.placeElement(w,"left","top",j.strippanel_padding_left,j.strippanel_padding_top),I.placeElement(y,"left","bottom",j.strippanel_padding_left,j.strippanel_padding_bottom));var e=j.strippanel_padding_top;y&&(e+=y.outerHeight()+j.strippanel_padding_buttons),S.setPosition(j.strippanel_padding_left,e)}function d(){0==j.strippanel_vertical_type?l():u(),P.placeElements()}function c(e){return!!I.isButtonDisabled(e)||void("advance_item"==j.strippanel_buttons_role?E.nextItem():S.scrollForeward())}function g(e){return!!I.isButtonDisabled(e)||void("advance_item"==j.strippanel_buttons_role?E.prevItem():S.scrollBack())}function h(){if(!y)return!0;if(0==S.isMoveEnabled())return I.disableButton(w),I.disableButton(y),!0;var e=S.getInnerStripLimits(),t=S.getInnerStripPos();t>=e.maxPos?I.disableButton(w):I.enableButton(w),t<=e.minPos?I.disableButton(y):I.enableButton(y)}function p(){h()}function _(){E.isLastItem()?I.disableButton(y):I.enableButton(y),E.isFirstItem()?I.disableButton(w):I.enableButton(w)}function f(){if(1==M.isEventsInited)return!1;M.isEventsInited=!0,y&&(I.addClassOnHover(y,"ug-button-hover"),I.addClassOnHover(w,"ug-button-hover"),I.setButtonOnClick(w,g),I.setButtonOnClick(y,c),"advance_item"!=j.strippanel_buttons_role?(jQuery(S).on(S.events.STRIP_MOVE,p),jQuery(S).on(S.events.INNER_SIZE_CHANGE,h),m.on(E.events.SIZE_CHANGE,h)):0==E.getOptions().gallery_carousel&&jQuery(E).on(E.events.ITEM_CHANGE,_)),P.initEvents()}var m,v,b,y,w,T=this,x=jQuery(this),E=new UniteGalleryMain,I=new UGFunctions,S=new UGThumbsStrip,P=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var j={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},C={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},M={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(I.destroyButton(y),I.destroyButton(w),jQuery(S).off(S.events.STRIP_MOVE),jQuery(E).off(E.events.ITEM_CHANGE),jQuery(E).off(E.events.SIZE_CHANGE)),P.destroy(),S.destroy()},this.getOrientation=function(){return M.orientation},this.setOrientation=function(e){M.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){return I.getElementSize(b)},this.setWidth=function(e){M.panelWidth=e},this.setHeight=function(e){M.panelHeight=e},this.resize=function(e){T.setWidth(e),s(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return P.isPanelClosed()},this.getClosedPanelDest=function(){return P.getClosedPanelDest()},this.openPanel=function(e){P.openPanel(e)},this.closePanel=function(e){P.closePanel(e)},this.setOpenedState=function(e){P.setOpenedState(e)},this.setClosedState=function(e){P.setClosedState(e)},this.setCustomThumbs=function(e){S.setCustomThumbs(e)},this.setDisabledAtStart=function(e){P.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){P=e,t(),i&&i.vertical_scroll&&(M.gridpanel_vertical_scroll=i.vertical_scroll),M=jQuery.extend(M,i),1==k.isHorType?(M=jQuery.extend(M,N),M=jQuery.extend(M,i)):1==M.gridpanel_vertical_scroll&&(M=jQuery.extend(M,O),M=jQuery.extend(M,i),M.grid_panes_direction="bottom");var n=P.getOptions().gallery_skin;""==M.gridpanel_arrows_skin&&(M.gridpanel_arrows_skin=n);var r=e.getObjects();w=r.g_objWrapper,A.init(P,k,I,M,S),(C=new UGThumbsGrid).init(P,M)}function t(){if(null==k.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),o(),C.run(),l(),u(),y(),d()}function n(){w.append("<div class='ug-grid-panel'></div>"),T=w.children(".ug-grid-panel"),k.isHorType?(T.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),E=T.children(".grid-arrow-left-hortype"),x=T.children(".grid-arrow-right-hortype")):0==M.gridpanel_vertical_scroll?(T.append("<div class='grid-arrow grid-arrow-left ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-right ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),E=T.children(".grid-arrow-left"),x=T.children(".grid-arrow-right")):(T.append("<div class='grid-arrow grid-arrow-up ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-down ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),E=T.children(".grid-arrow-up"),x=T.children(".grid-arrow-down")),A.setHtml(T),E.fadeTo(0,0),x.fadeTo(0,0),C.setHtml(T),r()}function r(){""!=M.gridpanel_background_color&&T.css("background-color",M.gridpanel_background_color)}function o(){"center"==M.gridpanel_grid_align&&(M.gridpanel_grid_align="middle")}function a(){var e=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=k.panelHeight-e;if(0==M.gridpanel_arrows_always_on&&1==C.getNumPanesEstimationByHeight(t))return t;e=j.getElementSize(x).height+M.gridpanel_arrows_padding_vert;return 1==M.gridpanel_vertical_scroll&&(e*=2),e+=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=k.panelHeight-e}function s(){var e=M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,t=k.panelWidth-e;return 0==M.gridpanel_arrows_always_on&&1==C.getNumPanesEstimationByWidth(t)?t:(e+=2*(j.getElementSize(x).width+M.gridpanel_arrows_padding_hor),t=k.panelWidth-e)}function l(){var e=!1;1==M.gridpanel_arrows_always_on?e=!0:C.getNumPanes()>1&&(e=!0),1==e?(x.show().fadeTo(0,1),E.show().fadeTo(0,1),k.arrowsVisible=!0):(x.hide(),E.hide(),k.arrowsVisible=!1)}function u(){var e=C.getSize();1==k.isHorType?k.panelHeight=e.height+M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom:k.panelWidth=e.width+M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,j.setElementSize(T,k.panelWidth,k.panelHeight)}function d(){return 1!=k.isEventsInited&&(k.isEventsInited=!0,E&&(j.addClassOnHover(E),C.attachPrevPaneButton(E)),x&&(j.addClassOnHover(x),C.attachNextPaneButton(x)),void A.initEvents())}function c(){return M.gridpanel_padding_border_left}function g(){var e=M.gridpanel_grid_align,t=0;switch(e){case"top":t=M.gridpanel_padding_border_top;break;case"bottom":t=M.gridpanel_padding_border_bottom}var i=c(),n=C.getElement();j.placeElement(n,i,e,0,t)}function h(){var e,t,i,n,r=j.getElementSize(E),o=C.getSize();switch(M.gridpanel_grid_align){default:case"top":e=M.gridpanel_padding_border_top+r.height+M.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=k.panelHeight-o.height-r.height-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert}var a=c(),s=C.getElement();j.placeElement(s,a,e);o=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(k.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-M.gridpanel_arrows_padding_vert_vert,i=o.bottom+M.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=M.gridpanel_padding_border_top,i="bottom",n=M.gridpanel_padding_border_bottom}j.placeElement(E,"center",t),j.placeElement(x,"center",i,0,n)}function p(){1==k.arrowsVisible?h():g()}function _(){var e,t,i,n=j.getElementSize(E),r=C.getSize(),o=M.gridpanel_padding_border_top;switch(M.gridpanel_grid_align){case"middle":switch(M.gridpanel_arrows_align_vert){default:a=r.height+M.gridpanel_arrows_padding_vert+n.height;o=(k.panelHeight-a)/2;break;case"border":case"borders":o=(k.panelHeight-n.height-M.gridpanel_padding_border_bottom-r.height)/2}break;case"bottom":var a=r.height+n.height+M.gridpanel_arrows_padding_vert;o=k.panelHeight-a-M.gridpanel_padding_border_bottom}var s=C.getElement(),l=c();j.placeElement(s,l,o);r=C.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":e=r.bottom+(k.panelHeight-r.bottom-n.height)/2,i=0;break;case"grid":e=r.bottom+M.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=M.gridpanel_padding_border_bottom}t=-n.width/2-M.gridpanel_space_between_arrows/2,j.placeElement(E,"center",e,t,i);var u=Math.abs(t);j.placeElement(x,"center",e,u,i)}function f(){1==k.arrowsVisible?_():g()}function m(){var e,t,i,n,r=j.getElementSize(E),o=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left+M.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=k.panelWidth-o.width-r.width-M.gridpanel_padding_border_right-M.gridpanel_arrows_padding_hor}var a=C.getElement();switch(j.placeElement(a,e,M.gridpanel_padding_border_top),o=C.getSize(),M.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=M.gridpanel_padding_border_top+M.gridpanel_arrows_padding_vert;break;case"bottom":n=k.panelHeight-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert-r.height}switch(M.gridpanel_arrows_align_hor){default:case"borders":t=M.gridpanel_padding_border_left,i=k.panelWidth-M.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-M.gridpanel_arrows_padding_hor-r.width,i=o.right+M.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(k.panelWidth-o.right-r.width)/2}j.placeElement(E,t,n),j.placeElement(x,i,n)}function v(){var e,t=C.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=k.panelWidth-t.width-M.gridpanel_padding_border_right}var i=C.getElement();j.placeElement(i,e,M.gridpanel_padding_border_top)}function b(){1==k.arrowsVisible?m():v()}function y(){0==k.isHorType?1==M.gridpanel_vertical_scroll?p():f():b(),A.placeElements()}var w,T,x,E,I=this,S=jQuery(this),P=new UniteGalleryMain,j=new UGFunctions,C=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var M={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},O={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},N={gridpanel_grid_align:"center"},k={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){E&&j.destroyButton(E),x&&j.destroyButton(x),A.destroy(),C.destroy()},this.getOrientation=function(){return k.orientation},this.setOrientation=function(e){switch(k.orientation=e,e){case"right":case"left":k.isHorType=!1;break;case"top":case"bottom":k.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==k.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+k.orientation+"). Please use setWidth");k.panelHeight=e;var t=a();C.setMaxHeight(t)},this.setWidth=function(e){if(0==k.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+k.orientation+"). Please use setHeight");k.panelWidth=e;var t=s();C.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return T},this.getSize=function(){return j.getElementSize(T)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(H=e.getObjects(),(F=e).attachThumbsPanel("grid",Q),L=jQuery(e),z=H.g_objWrapper,D=H.g_arrItems,!0===i&&(q.isTilesMode=!0),q.numThumbs=D.length,c(t),1==q.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(P),U.init(e,V);var n=U.getOptions();q.tileMaxHeight=n.tile_height,q.tileMaxWidth=n.tile_width,Y=U.getObjThumbs()}else t.thumb_fixed_size=!0,Y.init(e,t)}function t(e){var t=z;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),R=t.children(".ug-thumbs-grid"),G=R.children(".ug-thumbs-grid-inner"),1==q.isTilesMode?U.setHtml(G):Y.setHtmlThumbs(G)}function n(){if(0==q.isHorizontal){if(0==q.gridHeight)throw new Error("You must set height before run.")}else if(0==q.gridWidth)throw new Error("You must set width before run.")}function r(){var e=F.getSelectedItem();if(n(),1==q.isFirstTimeRun?(k(),1==q.isTilesMode?(a(),u(),U.run()):(Y.setHtmlProperties(),u(),Y.loadThumbsImages())):1==q.isTilesMode&&1==a()&&(u(),U.run()),_(),1==q.isFirstTimeRun&&q.isTilesMode){var t=Y.getThumbs();t.each(function(e,t){z.trigger(q.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&d(e.index),W.trigger(Q.events.PANE_CHANGE,q.currentPane),q.isFirstTimeRun=!1}function o(){if(1==q.isTilesMode)e=U.getGlobalTileSize();else var e=Y.getGlobalThumbSize();return e}function a(){if(0==q.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=F.isMobileMode(),i=q.spaceBetweenCols;1==t?(q.spaceBetweenCols=V.grid_space_between_mobile,q.spaceBetweenRows=V.grid_space_between_mobile):(q.spaceBetweenCols=V.grid_space_between_cols,q.spaceBetweenRows=V.grid_space_between_rows),q.spaceBetweenCols!=i&&(e=!0);var n=o().width,r=q.tileMaxWidth;return B.getNumItemsInSpace(q.gridWidth,q.tileMaxWidth,q.spaceBetweenCols)<V.grid_min_cols&&(r=B.getItemSizeInSpace(q.gridWidth,V.grid_min_cols,q.spaceBetweenCols)),U.setTileSizeOptions(r),r!=n&&(e=!0),e}function s(){var e=o().height,t=q.gridWidth,i=V.grid_num_rows*e+(V.grid_num_rows-1)*q.spaceBetweenRows+2*V.grid_padding;q.gridHeight=i,B.setElementSize(R,t,i),B.setElementSize(G,t,i),q.innerWidth=t,q.innerHeight=i}function l(){var e=o().width,t=V.grid_num_cols*e+(V.grid_num_cols-1)*q.spaceBetweenCols+2*V.grid_padding,i=q.gridHeight;q.gridWidth=t,B.setElementSize(R,t,i),B.setElementSize(G,t,i),q.innerWidth=t,q.innerHeight=i}function u(){0==q.isHorizontal?l():s()}function d(e){var t=E(e);return-1!=t&&void Q.gotoPane(t,"scroll")}function c(e){V=jQuery.extend(V,e),Y.setOptions(e),q.isNavigationVertical="top"==V.grid_panes_direction||"bottom"==V.grid_panes_direction,q.spaceBetweenCols=V.grid_space_between_cols,q.spaceBetweenRows=V.grid_space_between_rows}function g(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t>a&&(a=t);var g=n+c;g>s&&(s=g);var h=a+d;h>q.innerWidth&&(q.innerWidth=h),t+=d+q.spaceBetweenCols,++r>=V.grid_num_cols&&(n+=c+q.spaceBetweenRows,t=o,r=0),1==q.numPanes&&q.numThumbsInPane++,n+c>q.gridHeight&&(n=0,o=q.innerWidth+q.spaceBetweenCols,t=o,r=0,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=s,R.height(q.gridHeight)),i<l-1&&(q.numPanes++,q.arrPanes.push(o)))}G.width(q.innerWidth),1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=s,R.height(s))}function h(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t+=d+q.spaceBetweenCols;var g=n+c;g>r&&(r=g),++o>=V.grid_num_cols&&(n+=c+q.spaceBetweenRows,t=a,o=0),1==q.numPanes&&q.numThumbsInPane++,g=n+c;var h=s+q.gridHeight;g>h&&(1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=r,R.height(q.gridHeight),h=q.gridHeight),n=h+q.spaceBetweenRows,s=n,a=0,t=a,o=0,i<l-1&&(q.numPanes++,q.arrPanes.push(n)))}G.height(r),q.innerHeight=r,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=r,R.height(r))}function p(){var e=G.children(".ug-thumb-wrapper"),t=V.grid_padding,n=V.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0,d=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(t-V.grid_padding);var c=e.length;for(i=0;i<c;i++){var g=jQuery(e[i]),h=g.outerWidth(),p=g.outerHeight();o-t+h>q.gridWidth&&(d++,r=0,d>=V.grid_num_rows?(d=0,t=o,r=n,l=0,1==q.numPanes&&(q.gridWidth=a+V.grid_padding,R.width(q.gridWidth),q.gridHeight=u+V.grid_padding,R.height(q.gridHeight)),q.numPanes++,q.arrPanes.push(t-V.grid_padding)):(o=t,r=l+q.spaceBetweenRows)),B.placeElement(g,o,r);var _=o+h;_>a&&(a=_);var f=r+p;f>l&&(l=f),f>u&&(u=f),f>s&&(s=f),(_=a+h)>q.innerWidth&&(q.innerWidth=_),o+=h+q.spaceBetweenCols,1==q.numPanes&&q.numThumbsInPane++}q.innerWidth=a+V.grid_padding,q.innerHeight=u+V.grid_padding,G.width(q.innerWidth),G.height(q.innerHeight),1==q.numPanes&&(q.gridWidth=a+V.grid_padding,q.gridHeight=u+V.grid_padding,R.width(q.gridWidth),R.height(q.gridHeight))}function _(){0==q.isHorizontal?q.isNavigationVertical?h():g():p()}function f(e){if(0>e||e>=q.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function m(e){if(e>=q.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function v(e){var t=T(e);return 0!=t&&void G.css(t)}function b(e){var t=T(e);return 0!=t&&void G.stop(!0).animate(t,{duration:V.grid_transition_duration,easing:V.grid_transition_easing,queue:!1})}function y(){b(-q.arrPanes[q.currentPane])}function w(){return 1==q.isNavigationVertical?q.gridHeight:q.gridWidth}function T(e){var t={};return 1==q.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function x(){var e=B.getElementSize(G);return 1==q.isNavigationVertical?e.top:e.left}function E(e){return 0==f(e)?-1:Math.floor(e/q.numThumbsInPane)}function I(){if(1==q.numPanes)return!1;var e=B.getStoredEventData(q.storedEventID),t=e.diffTime,i=x(),n=Math.abs(i-e.startInnerPos);return n>30||n>5&&t>300}function S(){var e=B.getStoredEventData(q.storedEventID),t=x();diffPos=Math.abs(e.startInnerPos-t);var i=w(),n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&diffPos>25}function P(){return 1==q.numPanes||B.isApproveStoredEventClick(q.storedEventID,q.isNavigationVertical)}function j(e){if(1==I())return!0;var t=jQuery(this),i=Y.getItemByThumb(t);F.selectItem(i)}function C(e){if(1==q.numPanes)return!0;if(1==q.touchActive)return!0;0==q.isTilesMode&&e.preventDefault(),q.touchActive=!0;var t={startInnerPos:x()};B.storeEventData(e,q.storedEventID,t)}function A(){return 0!=V.grid_vertical_scroll_ondrag&&(1!=q.isNavigationVertical&&"vert"===B.handleScrollTop(q.storedEventID))}function M(e){if(0==q.touchActive)return!0;e.preventDefault(),B.updateStoredEventData(e,q.storedEventID);var t=B.getStoredEventData(q.storedEventID,q.isNavigationVertical);if(A())return!0;var i=t.diffMousePos,n=t.startInnerPos+i,r=i>0?"prev":"next",o=q.arrPanes[q.numPanes-1];0==V.grid_carousel&&n>0&&"prev"==r&&(n/=3),0==V.grid_carousel&&-o>n&&"next"==r&&(n=t.startInnerPos+i/3),v(n)}function O(e){if(0==q.touchActive)return!0;B.updateStoredEventData(e,q.storedEventID);var t=B.getStoredEventData(q.storedEventID,q.isNavigationVertical);if(q.touchActive=!1,0==S())return y(),!0;"next"==(x()-t.startInnerPos>0?"prev":"next")?0==V.grid_carousel&&Q.isLastPane()?y():Q.nextPane():0==V.grid_carousel&&Q.isFirstPane()?y():Q.prevPane()}function N(){var e=F.getSelectedItem();Y.setThumbSelected(e.objThumbWrapper),d(e.index)}function k(){0==q.isTilesMode?(Y.initEvents(),R.find(".ug-thumb-wrapper").on("click touchend",j),L.on(F.events.ITEM_CHANGE,N)):U.initEvents(),R.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",M),jQuery(window).add("body").bind("mouseup touchend",O)}var L,H,z,D,R,G,Q=this,W=jQuery(this),F=new UniteGalleryMain,B=new UGFunctions,Y=new UGThumbsGeneral,U=new UGTileDesign,V={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var q={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==q.isTilesMode){var e=R.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),L.on(F.events.ITEM_CHANGE),Y.destroy()}else U.destroy();R.unbind("mousedown"),R.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),W.off(Q.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){Y.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return E(e.index)==q.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==q.isTilesMode)i=V.tile_height;else var t=Y.getOptions(),i=t.thumb_height;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_cols),o=r*i+(r-1)*q.spaceBetweenRows;return Math.ceil(o/e)},this.getNumPanesEstimationByWidth=function(e){if(q.isTilesMode)i=V.tile_width;else var t=Y.getOptions(),i=t.thumb_width;var n=Y.getNumThumbs(),r=Math.ceil(n/V.grid_num_rows),o=r*i+(r-1)*q.spaceBetweenCols;return Math.ceil(o/e)},this.getHeightEstimationByWidth=function(e){if(0==q.isTilesMode)throw new Error("This function works only with tiles mode");var t=Y.getNumThumbs(),i=B.getNumItemsInSpace(e,V.tile_width,q.spaceBetweenCols),n=Math.ceil(t/i);n>V.grid_num_rows&&(n=V.grid_num_rows);var r=B.getSpaceByNumItems(n,V.tile_height,q.spaceBetweenRows);return r+=2*V.grid_padding},this.getElement=function(){return R},this.getSize=function(){return B.getElementSize(R)},this.getNumPanes=function(){return q.numPanes},this.isFirstPane=function(){return 0==q.currentPane},this.isLastPane=function(){return q.currentPane==q.numPanes-1},this.getPaneInfo=function(){return{pane:q.currentPane,total:q.numPanes}},this.getPane=function(){return q.currentPane},this.setWidth=function(e){q.gridWidth=e,q.isHorizontal=!0},this.setMaxWidth=function(e){q.gridWidth=e,q.isMaxWidth=!0,q.isHorizontal=!0},this.setHeight=function(e){q.gridHeight=e,q.isHorizontal=!1},this.setMaxHeight=function(e){q.gridHeight=e,q.isMaxHeight=!0,q.isHorizontal=!1},this.gotoPane=function(e,t){if(0==m(e))return!1;if(e==q.currentPane)return!1;var i=-q.arrPanes[e];q.currentPane=e,b(i),W.trigger(Q.events.PANE_CHANGE,e)},this.nextPane=function(){var e=q.currentPane+1;if(e>=q.numPanes){if(0==V.grid_carousel)return!0;e=0}Q.gotoPane(e,"next")},this.prevPane=function(){var e=q.currentPane-1;return!(0>e&&(e=q.numPanes-1,0==V.grid_carousel))&&void Q.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return B.setButtonOnClick(e,Q.nextPane),1==V.grid_carousel||(Q.isLastPane()&&e.addClass("ug-button-disabled"),void W.on(Q.events.PANE_CHANGE,function(){Q.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return B.setButtonOnClick(e,Q.prevPane),1==V.grid_carousel||(Q.isFirstPane()&&e.addClass("ug-button-disabled"),void W.on(Q.events.PANE_CHANGE,function(){Q.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(q.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){Q.gotoPane(i,"theme"),e.setActive(i)}),jQuery(Q).on(Q.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return U},this.init=function(t,i,n){e(t,i,n)},this.run=function(){r()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),oe=e,$=jQuery(e),K=g_objects.g_objWrapper,ee=g_objects.g_arrItems,de=jQuery.extend(de,i),t(),se.init(e,de),le=se.getObjThumbs()}function t(){de.tiles_min_columns<1&&(de.tiles_min_columns=1),0!=de.tiles_max_columns&&de.tiles_max_columns<de.tiles_min_columns&&(de.tiles_max_columns=de.tiles_min_columns)}function i(e){if(!e)if(J)e=J;else var e=K;J=e;var t=de.tiles_type;e.addClass("ug-tiletype-"+t),se.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(J.addClass("ug-tiles-rest-mode"),ce.isTransInited=!0,1==de.tiles_enable_transition){J.addClass("ug-tiles-transit");var e=se.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&J.addClass("ug-tiles-transit-overlays"),ce.isTransActive=!0}}function r(){return ae.getElementSize(J).width}function o(){return 0!=ce.isTransInited&&(J.addClass("ug-tiles-transition-active"),J.removeClass("ug-tiles-rest-mode"),0!=ce.isTransActive&&void se.disableEvents())}function a(){return 0!=ce.isTransInited&&(J.removeClass("ug-tiles-transition-active"),void J.addClass("ug-tiles-rest-mode"))}function s(){1==ce.isTransActive?(setTimeout(function(){se.enableEvents(),se.triggerSizeChangeEventAllTiles(),a()},800),ce.handle&&clearTimeout(ce.handle),ce.handle=setTimeout(function(){a(),se.triggerSizeChangeEventAllTiles(),ce.handle=null},2e3)):(se.triggerSizeChangeEventAllTiles(),a())}function l(){ue.colWidth=(ue.availWidth-ue.colGap*(ue.numCols-1))/ue.numCols,ue.colWidth=Math.floor(ue.colWidth),ue.totalWidth=ae.getSpaceByNumItems(ue.numCols,ue.colWidth,ue.colGap)}function u(){if(ue.colWidth=de.tiles_col_width,ue.minCols=de.tiles_min_columns,ue.maxCols=de.tiles_max_columns,0==oe.isMobileMode()?ue.colGap=de.tiles_space_between_cols:ue.colGap=de.tiles_space_between_cols_mobile,ue.galleryWidth=r(),ue.availWidth=ue.galleryWidth,1==de.tiles_include_padding&&(ue.availWidth=ue.galleryWidth-2*ue.colGap),1==de.tiles_exact_width)ue.numCols=ae.getNumItemsInSpace(ue.availWidth,ue.colWidth,ue.colGap),ue.maxCols>0&&ue.numCols>ue.maxCols&&(ue.numCols=ue.maxCols),ue.numCols<ue.minCols?(ue.numCols=ue.minCols,l()):ue.totalWidth=ue.numCols*(ue.colWidth+ue.colGap)-ue.colGap;else{var e=ae.getNumItemsInSpaceRound(ue.availWidth,ue.colWidth,ue.colGap);e<ue.minCols?e=ue.minCols:0!=ue.maxCols&&e>ue.maxCols&&(e=ue.maxCols),ue.numCols=e,l()}switch(de.tiles_align){case"center":default:ue.addX=Math.round((ue.galleryWidth-ue.totalWidth)/2);break;case"left":ue.addX=0;break;case"right":ue.addX=ue.galleryWidth-ue.totalWidth}for(ue.arrPosx=[],col=0;col<ue.numCols;col++){var t=ae.getColX(col,ue.colWidth,ue.colGap);ue.arrPosx[col]=t+ue.addX}}function d(){ue.maxColHeight=0,ue.colHeights=[0]}function c(){var e=0,t=999999999;for(col=0;col<ue.numCols;col++){if(void 0==ue.colHeights[col]||0==ue.colHeights[col])return col;ue.colHeights[col]<t&&(e=col,t=ue.colHeights[col])}return e}function g(e,t,i,n){if(null===n||void 0===n)var n=c();var r=0;void 0!==ue.colHeights[n]&&(r=ue.colHeights[n]);var o=se.getTileHeightByWidth(ue.colWidth,e);if(null===o){if(1==de.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");o=ae.getElementSize(e).height}var a=ue.arrPosx[n];ae.placeElement(e,a,r);var s=r+o;ue.colHeights[n]=s+ue.colGap,ue.maxColHeight<s&&(ue.maxColHeight=s),1==t&&e.show().fadeTo(0,1),1==i&&J.height(ue.maxColHeight)}function h(e){e||(e=!1),u(),d();var t=le.getThumbs(le.type.GET_THUMBS_RATIO);o(),se.resizeAllTiles(ue.colWidth,se.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),r=void 0;1==de.tiles_keep_order&&(r=ae.getColByIndex(ue.numCols,i)),g(n,e,!1,r)}s();var a=J.height();1==ce.isTransActive&&a>ue.maxColHeight?setTimeout(function(){J.height(ue.maxColHeight)},700):J.height(ue.maxColHeight)}function p(e){var t=e.index();if(!0===oe.getItem(t).ordered_placed)return!1;var i=ae.getPrevRowSameColIndex(t,ue.numCols);return 0>i||!0===oe.getItem(i).ordered_placed}function _(e,t){if(!0!==t&&0==p(e))return!1;var i=e.index(),n=ae.getColByIndex(ue.numCols,i),r=oe.getItem(i);se.resizeTile(e,ue.colWidth),g(e,!0,!0,n),r.ordered_placed=!0;var o=oe.getNumItems(),a=ae.getNextRowSameColIndex(i,ue.numCols);if(a>=o)return!1;var s=le.getThumbByIndex(a),l=oe.getItem(a);le.isThumbLoaded(s),le.isThumbLoaded(s)&&!l.ordered_placed&&_(s,!0)}function f(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e),1==de.tiles_keep_order?_(i):(se.resizeTile(i,ue.colWidth),g(i,!0,!0))}function m(){var e=le.getThumbs(le.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(ce.isAllLoaded=!1,1==ce.isFirstPlaced){u(),d();var t=Math.abs(ue.galleryWidth-ue.totalWidth);if(1==de.tiles_set_initial_height&&0==ae.isScrollbarExists()&&25>t){var i=(e.length,Math.ceil(e.length/ue.numCols))*de.tiles_col_width*.75;J.height(i),u()}}e.fadeTo(0,0);var r=e.find("img.ug-thumb-image"),o=ue.numCols,a=ue.galleryWidth;ae.checkImagesLoaded(r,function(){u(),(o!=ue.numCols||a!=ue.galleryWidth)&&h(!1),n(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){1==ce.isFirstPlaced&&oe.triggerEvent(ne.events.TILES_FIRST_PLACED),f(e,t)})}function v(){var e=r(),t=le.getThumbs(!0),i=de.tiles_justified_row_height,n=[],o=0,a=de.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var r=le.getItemByThumb(t),a=r.thumbWidth;r.thumbHeight!==i&&(a=Math.floor(r.thumbRatioByWidth*i)),n[e]=a,o+=a});var l=Math.ceil(o/e);l>s&&(l=s);var u=o/l,d=[],c=0,g=[],h=[],p=0,_=0;jQuery.each(t,function(e,t){var i=n[e];p+i/2>(_+1)*u&&(g[d.length]=c,d.push(h),h=[],c=0,_++),p+=i,c+=i,h.push(t)}),g[d.length]=c,d.push(h);var f=[],m=[],v=0;return jQuery.each(d,function(t,r){var o=(r.length,g[t]),s=(r.length-1)*a,l=(e-s)/o,u=Math.round(i*l);v+=u,t>0&&(v+=a),m.push(u);var d=u/i,c=[],h=s;jQuery.each(r,function(e,t){var i=jQuery(t).index(),r=n[i],o=Math.round(r*d);c[e]=o,h+=o});var p=h-e;jQuery.each(c,function(e,t){return 0!=p&&(0>p?(c[e]=t+1,p++):(c[e]=t-1,p--),void(e==c.length-1&&0!=p&&(c[e]-=p)))}),f[t]=c}),{arrRows:d,arrRowWidths:f,arrRowHeights:m,gap:a,totalHeight:v}}function b(e){if(!e)var e=!1;var t=r(),i=v();J.height(i.totalHeight),r()!=t&&(i=v()),o();var n=0,a=0;jQuery.each(i.arrRows,function(t,r){var o=i.arrRowWidths[t],s=i.arrRowHeights[t],l=0;jQuery.each(r,function(t,r){var u=jQuery(r),d=s,c=o[t];se.resizeTile(u,c,d,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(u,l,n),(l+=c)>a&&(a=l),l+=i.gap,1==e&&jQuery(r).show()}),n+=s+i.gap}),s()}function y(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();ce.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){setTimeout(function(){b(!0),t.fadeTo(0,1),oe.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),re.trigger(ne.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function w(){var e=jQuery(K).find("img.ug-thumb-image"),t=le.getThumbs();ce.isAllLoaded=!1,t.fadeTo(0,0),ae.checkImagesLoaded(e,function(){1==oe.isMobileMode()?h(!0):x(!0),oe.triggerEvent(ne.events.TILES_FIRST_PLACED),n(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();le.triggerImageLoadedEvent(i,e)})}function T(){var e=r();switch(ge.galleryWidth=e,te={},ge.colWidth=de.tiles_nested_col_width,ge.optimalTileWidth=de.tiles_nested_optimal_tile_width,ge.currentGap=de.tiles_space_between_cols,1==oe.isMobileMode()&&(ge.currentGap=de.tiles_space_between_cols_mobile),null==ge.colWidth?ge.colWidth=Math.floor(ge.optimalTileWidth/ge.nestedOptimalCols):ge.optimalTileWidth>ge.colWidth?ge.nestedOptimalCols=Math.ceil(ge.optimalTileWidth/ge.colWidth):ge.nestedOptimalCols=1,ge.maxColumns=ae.getNumItemsInSpace(e,ge.colWidth,ge.currentGap),ge.colWidth=ae.getItemSizeInSpace(e,ge.maxColumns,ge.currentGap),ge.gridY=0,ie=[],le.getThumbs(!0).each(function(){var e=E(jQuery(this));ie.push(e)}),ge.optimalTileWidth>ge.colWidth?ge.nestedOptimalCols=Math.ceil(ge.optimalTileWidth/ge.colWidth):ge.nestedOptimalCols=1,ge.totalWidth=ge.maxColumns*(ge.colWidth+ge.currentGap)-ge.currentGap,de.tiles_align){case"center":default:ge.addX=Math.round((ge.galleryWidth-ge.totalWidth)/2);break;case"left":ge.addX=0;break;case"right":ge.addX=ge.galleryWidth-ge.totalWidth}ge.maxGridY=0}function x(e){var t=r();T(),P();var i=ge.maxGridY*(ge.colWidth+ge.currentGap)-ge.currentGap;J.height(i),r()!=t&&(T(),P()),0==de.tiles_nested_debug&&U(e)}function E(e){var t,i,n={},r=ge.colWidth,o=ge.currentGap,a=se.getTileImageSize(e),s=e.index(),l=Math.ceil(I(s)*(1*ge.nestedOptimalCols/3)+2*ge.nestedOptimalCols/3),u=a.width,d=a.height,c=u/d;return u>d?(t=l,0==(i=Math.round(t/c))&&(i=1)):(i=l,0==(t=Math.round(i*c))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}function I(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function S(e,t){if(0==t){for(i=ge.currentItem;i<ie.length;i++)j(i,!0);ge.currentItem=ie.length-1}else j(ge.currentItem,!0);for(var i=0;i<=ge.currentItem;i++)V(i,!0);ge.currentItem++}function P(e){if(1==de.tiles_nested_debug)return void 0===e&&(e=!0),S(!0,e),!1;for(var t=0;t<ie.length;t++)j(t,!0)}function j(e,t){if(!t)var t=!1;ge.maxColHeight=0;for(var i=ae.getObjectLength(te),n=ge.gridY;i+1>=n;n++){for(var r=0;r<ge.maxColumns;r++)if(0==Q(ge.gridY)||0==B(ge.gridY,r))return void C(e,G(r),r);ge.gridY++}}function C(e,t,i){var n=jQuery.extend(!0,{},ie[e]),r=n.dimWidth,o=t-n.dimWidth,a=ge.nestedOptimalCols;if(t<=n.dimWidth||.33*a>=o||a>=t)H(e,t);else if(a>=o)a>=4?1==R(Math.floor(t/2),i)?H(e,Math.floor(t/2)+1):H(e,Math.floor(t/2)):H(objImage,t);else if(1==R(r,i))switch(r>=a){case!0:H(e,r-1);break;case!1:H(e,r+1)}var s=k(e,(n=jQuery.extend(!0,{},ie[e])).dimWidth,i);if(ge.columnsValueToEnableHeightResize<=s[0]&&ge.maxColumns>=2*ge.nestedOptimalCols){var l=L(i,n),u=z(e,l.newHeight,!0);ie[e].dimHeight=u.dimHeight;var d=N(s,u.dimWidth),c=!1;A(d)>=2&&(c=!0),l.newHeight>=n.dimHeight&&(n=z(e,l.newHeight,!0));var g=M(l.idToResize,l.newHeight,n.dimHeight);n.top=ge.gridY,n.left=i,g.push({tileID:e,sizes:n});var h=D(g);return D(d)>h||1==c?void O(g):void O(d)}n.left=i,n.top=ge.gridY,ie[e]=n,W(e,n,i,ge.gridY),ge.maxGridY=n.top+n.dimHeight}function A(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=-1,o=-1;Q((a=e[n].sizes).top+a.dimHeight)&&ge.maxColumns>a.left+a.dimWidth&&(r=te[a.top+a.dimHeight-1][a.left+a.dimWidth],o=te[a.top+a.dimHeight][a.left+a.dimWidth]),r!=o&&t++}for(n=0;n<e.length-1;n++){var a=e[n].sizes,r=-1,o=-1;Q(a.top+a.dimHeight)&&a.left-1>=0&&(r=te[a.top+a.dimHeight-1][a.left-1],o=te[a.top+a.dimHeight][a.left-1]),r!=o&&i++}return Math.max(i,t)}function M(e,t,i){var n=ie[e],r=n.dimHeight,o=(n.dimWidth,n.left),a=n.top,s=[];return s.push({tileID:e,sizes:z(e,(parseInt(a/(ge.colWidth+ge.currentGap)),parseInt(o/(ge.colWidth+ge.currentGap)),r-t+i),!0)}),s}function O(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;ie[n]=jQuery.extend(!0,{},i),W(n,i,i.left,i.top)}}function N(e,t){for(var i=0,n=0,r=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=ie[e[1][s]];if(n+=u.dimHeight,0!=s)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=H(l,t,!0);i+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;for(var c=n,g=[],s=r.length-1;s>=0;s--){var h,l=r[s][0];0!=s?(h=Math.max(Math.round(1*n/3),Math.floor(r[s][1]*(n/i))),c-=h,d=z(l,h,!0),d.left=o,d.top=a,g.push({tileID:l,sizes:d}),a+=d.dimHeight):(h=c,d=z(l,h,!0),d.left=o,d.top=a,g.push({tileID:l,sizes:d}))}return g}function k(e,t,i){var n=ge.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),n>=0){for(o=0;n>=0;){if(r=te[n][i],void 0!==te[n][i-1]&&te[n][i-1]==te[n][i]||void 0!==te[n][i+t]&&te[n][i+t-1]==te[n][i+t]||te[n][i]!=te[n][i+t-1])return l.push(a),l.push(s),l;o!=r&&(a++,s.push(r)),n--,o=r}return l.push(a),l.push(s),l}return[0,[]]}function L(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(te,function(e,t){return[e]});if(void 0===l[ge.gridY]||void 0===l[ge.gridY][e-1])n=0;else for(var u=0;void 0!==te[ge.gridY+u]&&-1!=te[ge.gridY+u][e-1];)a=te[ge.gridY+u][e-2],u++,n++;if(void 0===l[ge.gridY]||void 0===l[ge.gridY][e+r])i=0;else for(u=0;void 0!==te[ge.gridY+u]&&-1!=te[ge.gridY+u][e+r];)s=te[ge.gridY+u][e+r+1],u++,i++;var d=0,c=0;return Math.abs(o-n)<Math.abs(o-i)&&0!=n?(d=n,c=a):0!=i?(d=i,c=s):d=o,{newHeight:d,idToResize:c}}function H(e,t,i){i||(i=!1);var n=ge.colWidth,r=ge.currentGap,o=ie[e],a=o.imgWidth/o.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/a),1==i){var s=jQuery.extend(!0,{},o);return s.dimWidth=dimWidth,s.dimHeight=dimHeight,s.width=dimWidth*n+r*(dimWidth-1),s.height=dimHeight*n+r*(dimHeight-1),s}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function z(e,t,i){i||(i=!1);var n=ie[e],r=n.dimWidth,o=ge.colWidth,a=ge.currentGap;if(1==i){var s=jQuery.extend(!0,{},n);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}n.dimHeight=t,n.width=r*o+a*(r-1),n.height=t*o+a*(t-1)}function D(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=ie[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function R(e,t){var i=ge.gridY-1;return!(0>=i||0==Q(i))&&te[i][t+e-1]!=te[i][t+e]}function G(e){var t=e,i=0;if(1==Q(ge.gridY))for(;0==B(ge.gridY,t);)i++,t++;else i=ge.maxColumns;return i}function Q(e){return void 0!==te[e]}function W(e,t,i,n){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==Q(n+r)&&F(n+r),Y(n+r,i+o,e)}function F(e){te[e]=new Object;for(var t=0;t<ge.maxColumns;t++)te[e][t]=-1}function B(e,t){return-1!=te[e][t]}function Y(e,t,i){te[e][t]=i}function U(e){if(!e)var e=!1;o();for(var t=0;t<ie.length;t++)V(t,e);J.height(ge.maxColHeight),s()}function V(e,t){var i=le.getThumbByIndex(e),n=ie[e],r=n.top*(ge.colWidth+ge.currentGap),o=ge.addX+n.left*(ge.colWidth+ge.currentGap);se.resizeTile(i,n.width,n.height,se.resizemode.VISIBLE_ELEMENTS),ae.placeElement(i,o,r),r+n.height>ge.maxColHeight&&(ge.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function q(){if(1==ce.isFirstTimeRun)return!0;if(0==ce.isAllLoaded)return!1;switch(de.tiles_type){case"columns":h(!1);break;case"justified":b(!1);break;case"nested":1==oe.isMobileMode()?h(!1):x(!1)}}function X(){re.on(ne.events.ALL_TILES_LOADED,function(){ce.isAllLoaded=!0}),$.on(oe.events.SIZE_CHANGE,q),$.on(ne.events.TILES_FIRST_PLACED,function(){ce.isFirstPlaced=!1}),se.initEvents()}function Z(){switch(K.children(".ug-tile").show(),1==ce.isFirstTimeRun&&X(),se.run(),de.tiles_type){default:case"columns":m();break;case"justified":y();break;case"nested":w()}ce.isFirstTimeRun=!1}var $,K,J,ee,te,ie,ne=this,re=jQuery(this),oe=new UniteGalleryMain,ae=new UGFunctions,se=new UGTileDesign,le=new UGThumbsGeneral,ue={},de={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var ce={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},ge={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){$.off(oe.events.SIZE_CHANGE),se.destroy(),$.off(ne.events.TILES_FIRST_PLACED)},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return se},this.run=function(){Z()},this.runNewItems=function(){if(!J)throw new Error("Can't run new items - parent not set");switch(se.setHtml(J,!0),se.run(!0),de.tiles_type){case"columns":m();break;default:case"justified":case"nested":throw new Error("Tiles type: "+de.tiles_type+" not support load more yet")}}}function UGTileDesign(){function e(e,i){G=e,k=jQuery(e);var r=G.getObjects();H=r.g_objWrapper,z=G.getArrItems(),F=jQuery.extend(F,B),F=jQuery.extend(F,i),t(),W.init(e,F);var o=["overlay"];Y.funcCustomTileHtml&&(o=[]),W.setCustomThumbs(n,o,{allow_onresize:!1});var a=W.getOptions();F=jQuery.extend(F,a),Y.ratioByWidth=F.tile_width/F.tile_height,Y.ratioByHeight=F.tile_height/F.tile_width,F.tile_size_by==D.sizeby.GLOBAL_RATIO&&Y.isTextpanelOutside&&(Y.hasImageContainer=!0)}function t(){if(1==F.tile_enable_overlay?(F.thumb_overlay_opacity=F.tile_overlay_opacity,F.thumb_overlay_color=F.tile_overlay_color):0==F.tile_enable_icons?F.thumb_color_overlay_effect=!1:F.thumb_overlay_opacity=0,F.tile_as_link&&(F.thumb_wrapper_as_link=!0,F.thumb_link_newpage=F.tile_link_newpage),1==F.tile_enable_outline&&0==F.tile_enable_border&&(F.tile_enable_outline=!1),Y.tileInnerReduce=0,F.tile_enable_border&&(Y.tileInnerReduce=2*F.tile_border_width,W.setThumbInnerReduce(Y.tileInnerReduce)),Y.isSaparateIcons=!Q.isRgbaSupported(),1==F.tile_enable_textpanel){switch(F.tile_textpanel_position){case"top":F.tile_textpanel_align="top";case"bottom":Y.isTextpanelOutside=!0,F.tile_textpanel_always_on=!0,F.tile_textpanel_offset=0;break;case"inside_top":F.tile_textpanel_align="top";break;case"middle":F.tile_textpanel_align="middle",F.tile_textpanel_appear_type="fade"}0==F.tile_textpanel_always_on&&(Y.isSaparateIcons=!0)}0!=F.tile_textpanel_offset&&(F.tile_textpanel_appear_type="fade",F.tile_textpanel_margin=F.tile_textpanel_offset),"title_and_desc"==F.tile_textpanel_source&&(F.tile_textpanel_enable_description=!0,F.tile_textpanel_desc_style_as_title=!0)}function i(){var e=G.isMobileMode();switch(Y.isTextPanelHidden=!1,1==e&&0==F.tile_textpanel_always_on&&(Y.isTextPanelHidden=!0),Y.isVideoplayIconAlwaysOn=F.tile_videoplay_icon_always_on,F.tile_videoplay_icon_always_on){case"always":Y.isVideoplayIconAlwaysOn=!0;break;case"never":Y.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":Y.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":Y.isVideoplayIconAlwaysOn=0==e}}function n(e,t){if(e.addClass("ug-tile"),Y.funcCustomTileHtml)return Y.funcCustomTileHtml(e,t),!1;var i="";1==Y.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";(0==F.tile_enable_image_effect||1==F.tile_image_effect_reverse)&&(n+=" ug-trans-enabled");var r=Q.stripTags(t.title);r=Q.htmlentitles(r),i+='<img src="'+Q.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==Y.hasImageContainer&&(i+="</div>"),e.append(i),F.tile_size_by==D.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==F.tile_enable_background&&(o["background-color"]=F.tile_background_color),1==F.tile_enable_border&&(o["border-width"]=F.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=F.tile_border_color,F.tile_border_radius&&(o["border-radius"]=F.tile_border_radius+"px")),1==F.tile_enable_outline&&(o.outline="1px solid "+F.tile_outline_color),1==F.tile_enable_shadow){var a=F.tile_shadow_h+"px ";a+=F.tile_shadow_v+"px ",a+=F.tile_shadow_blur+"px ",a+=F.tile_shadow_spread+"px ",a+=F.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(F.tile_enable_icons){if(0==F.tile_as_link&&1==F.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==F.tile_show_link_icon||1==F.tile_as_link)if(0==F.tile_as_link){var u="";1==F.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var c=Y.isSaparateIcons;if(0==c&&"image"!=t.type&&1==Y.isVideoplayIconAlwaysOn&&(c=!0),c)g=e;else var g=e.children(".ug-thumb-overlay");g.append(s);var h=g.children("."+l);0==h.length?h=null:h.hide();var p=g.children(".ug-icon-link");0==p.length?p=null:p.hide(),p||1!=F.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==F.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==F.tile_enable_image_effect){var _="";0==F.tile_image_effect_reverse&&(_=" ug-trans-enabled");var f="<div class='ug-tile-image-overlay"+_+"' >",m=" ug-"+F.tile_image_effect_type+"-effect";f+='<img src="'+Q.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+m+_+"'>",f+="</div>",e.append(f),1==F.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==F.tile_enable_textpanel){var v=new UGTextPanel;v.init(G,F,"tile");var b="";(1==F.tile_textpanel_always_on||1==Y.isTextpanelOutside)&&(b="ug-trans-enabled"),v.appendHTML(e,b);var y=t.title,w="";switch(F.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(v.setTextPlain(y,w),0==F.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==F.tile_textpanel_always_on&&d(e).css("z-index",2),1==Y.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var T=e.children(".ug-tile-cloneswrapper"),x=new UGTextPanel;x.init(G,F,"tile"),x.appendHTML(T),x.setTextPlain(y,w),e.data("objTextPanelClone",x)}}null!==t.addHtml&&e.append(t.addHtml)}function r(e){return e.children(".ug-tile-image-overlay")}function o(e){return e.children(".ug-thumb-overlay")}function a(e){return 0==Y.hasImageContainer?null:e.children(".ug-image-container")}function s(e){return e.find(".ug-tile-image-overlay img")}function l(e){return e.data("objTextPanel")}function u(e){return e.data("objTextPanelClone")}function d(e){return e.children(".ug-textpanel")}function c(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function g(e){if(1==Y.isTextpanelOutside)t=c(e);else var t=d(e);return t?Q.getElementSize(t).height:0}function h(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function p(e){var t=Y.ratioByHeight;switch(F.tile_size_by){default:t=Y.ratioByHeight;break;case D.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=D.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case D.sizeby.CUSTOM:return null}return t}function _(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function f(e){return!!e.hasClass("ug-thumb-over")}function m(e){return e.hasClass("ug-tile-clickable")}function v(e){return 1==F.tile_enable_icons&&1==Y.isVideoplayIconAlwaysOn&&"image"!=e.type}function b(e,t,i,n){var o=r(e),l=D.getTileImage(e),u=s(e);t-=Y.tileInnerReduce,i-=Y.tileInnerReduce;var d=null;if(1==Y.isTextpanelOutside){var c=g(e);if(i-=c,"top"==F.tile_textpanel_position&&(d=c),1==Y.hasImageContainer){var h=a(e);Q.setElementSize(h,t,i),null!==d&&Q.placeElement(h,0,d)}}if(0==F.tile_enable_image_effect)Q.scaleImageCoverParent(l,t,i),0==Y.hasImageContainer&&null!==d&&Q.placeElement(l,0,d);else{var p="nothing";!0===n&&0==Y.isTextpanelOutside&&(p=1==F.tile_image_effect_reverse?"effect":"image"),"effect"!=p&&(Q.setElementSize(o,t,i),null!==d&&Q.placeElement(o,0,d),Q.scaleImageCoverParent(u,t,i)),"image"!=p&&(1==Y.hasImageContainer?Q.scaleImageCoverParent(l,t,i):"effect"==p?(Q.scaleImageCoverParent(l,t,i),null!==d&&Q.placeElement(l,0,d)):Q.cloneElementSizeAndPos(u,l,!1,null,d))}}function y(e,t,i,n){var r=null;if(i&&(r=i-Y.tileInnerReduce),n&&(n-=Y.tileInnerReduce),"clone"==t)return u(e).refresh(!0,!0,r),D.getItemByTile(e).textPanelCloneSizeSet=!0,!1;var o=l(e);if(!o)return!1;var a=null;if(1==Y.isTextpanelOutside&&(a=g(e)),o.refresh(!1,!0,r,a),1==F.tile_textpanel_always_on||"fade"==F.tile_textpanel_appear_type)if(1==Y.isTextpanelOutside&&n&&"bottom"==F.tile_textpanel_position){var s=n-a;o.positionPanel(s)}else o.positionPanel()}function w(e){var t=(D.getItemByTile(e),_(e)),i=h(e),n=Q.getElementSize(e);b(e,n.width,n.height),1==F.tile_enable_textpanel&&y(e,"regular",n.width,n.height);var r=n.width-Y.tileInnerReduce,a=n.height-Y.tileInnerReduce,s=0;if(1==Y.isTextpanelOutside){var l=g(e);a-=l,"top"==F.tile_textpanel_position&&(s=l)}var u=o(e);if(Q.setElementSizeAndPosition(u,0,s,r,a),t||i){var c=0;if(1==F.tile_enable_textpanel&&0==Y.isTextPanelHidden&&0==Y.isTextpanelOutside){var p=d(e),f=Q.getElementSize(p);f.height>0&&(c=Math.floor(f.height/2*-1))}}if(t&&i){var m=Q.getElementSize(t),v=Q.getElementSize(i),w=F.tile_space_between_icons,T=m.width+w+v.width,x=Math.floor((n.width-T)/2);w>x&&(w=Math.floor((n.width-m.width-v.width)/3),T=m.width+w+v.width,x=Math.floor((n.width-T)/2)),Q.placeElement(t,x,"middle",0,c),Q.placeElement(i,x+m.width+w,"middle",0,c)}else t&&Q.placeElement(t,"center","middle",0,c),i&&Q.placeElement(i,"center","middle",0,c);t&&t.show(),i&&i.show()}function T(e,t){var i=(D.getItemByTile(e),r(e)),n=F.thumb_transition_duration;if(0==F.tile_image_effect_reverse){var o=D.getTileImage(e);t?(o.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function x(e,t){var i=F.thumb_transition_duration,n=d(e);if(!n)return!0;if("slide"==F.tile_textpanel_appear_type){var r=Q.getElementSize(n);if(0==r.width)return!1;var o=-r.height,a={},s={},l="bottom";"inside_top"==F.tile_textpanel_position&&(l="top"),a[l]=o+"px",s[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(a),s.opacity=1,n.stop(!0).animate(s,i)):n.stop(!0).animate(a,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function E(e,t,i){var n=F.thumb_transition_duration;i&&!0===i&&(n=0);var r=_(e),o=h(e),a=t?1:0;r&&r.stop(!0).fadeTo(n,a),o&&o.stop(!0).fadeTo(n,a)}function I(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&T(t,!0),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&0==Y.isTextPanelHidden&&x(t,!0),Y.isSaparateIcons&&1==F.tile_enable_icons){var i=1==F.thumb_overlay_reverse;0==v(D.getItemByTile(t))&&E(t,i,!1)}}function S(e,t){if(t=jQuery(t),F.tile_enable_image_effect&&T(t,!1),1==F.tile_enable_textpanel&&0==F.tile_textpanel_always_on&&x(t,!1),1==Y.isSaparateIcons&&1==F.tile_enable_icons){var i=1!=F.thumb_overlay_reverse;0==v(D.getItemByTile(t))?E(t,i,!1):E(t,!0,!0)}}function P(e){W.getThumbs().not(e).each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function j(e,t,i){return t=jQuery(t),1==F.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i||(w(t),void W.setThumbNormalStyle(t))}function C(e,t,i){w(t),i.fadeTo(0,1),t.data("image_placed",!0)}function A(e){return 1==m(e)?(R.trigger(D.events.TILE_CLICK,e),!0):void(0==f(e)&&(P(e),W.setThumbOverStyle(e)))}function M(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==f(t))1==n&&A(t);else{if(0==m(t))return!0;1==n&&R.trigger(D.events.TILE_CLICK,t)}}function O(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&(i=!1),0==f(t)?(A(t),!0):1==i?(R.trigger(D.events.TILE_CLICK,t),!1):void 0}function N(e){var t=jQuery(this).parents(".ug-tile");Y.funcParentApproveClick&&0==Y.funcParentApproveClick()&&e.preventDefault(),0==f(t)&&0==F.tile_as_link&&(e.preventDefault(),A(t))}var k,L,H,z,D=this,R=jQuery(this),G=new UniteGalleryMain,Q=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var F={tile_width:250,tile_height:200,tile_size_by:D.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},B={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},Y={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=D.getTileImage(e);Q.checkImagesLoaded(t,null,function(t,i){C(0,e,jQuery(t))})},this.setHtml=function(e,t){L=e,!0!==t&&i(),W.setHtmlThumbs(e,t)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,I),jQuery(W).on(W.events.SETNORMALSTYLE,S),jQuery(W).on(W.events.PLACEIMAGE,C),H.on(Y.eventSizeChange,j),L.on("click",".ug-tile",M),L.on("click",".ug-tile .ug-button-play",O),L.on("click",".ug-tile .ug-icon-link",N)},this.destroy=function(){if(L.off("click",".ug-tile"),L.off("click",".ug-tile .ug-button-play"),L.off("click",".ug-tile .ug-icon-link"),jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),H.off(Y.eventSizeChange),1==F.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}W.destroy()},this.init=function(t,i,n){e(t,i)},this.setFixedMode=function(){F.tile_size_by=D.sizeby.GLOBAL_RATIO,F.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){Y.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==Y.isTextpanelOutside&&y(e,"clone",t),t){if(!i)i=D.getTileHeightByWidth(t,e)}else var t=F.tile_width,i=F.tile_height;switch(Q.setElementSize(e,t,i),n){default:case D.resizemode.FULL:D.triggerSizeChangeEvent(e,!0);break;case D.resizemode.WRAPPER_ONLY:return!0;case D.resizemode.VISIBLE_ELEMENTS:if(Y.funcCustomTileHtml)return D.triggerSizeChangeEvent(e,!0),!0;b(e,t,i,!0),1==F.tile_enable_textpanel&&1==F.tile_textpanel_always_on&&t&&y(e,"regular",t,i)}},this.resizeAllTiles=function(e,t,n){i();var r=null;if(F.tile_size_by==D.sizeby.GLOBAL_RATIO&&(r=D.getTileHeightByWidth(e)),!n)var n=W.getThumbs();n.each(function(i,n){D.resizeTile(jQuery(n),e,r,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;H.trigger(Y.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){W.getThumbs().each(function(){var t=jQuery(this);D.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){W.getThumbs().css("pointer-events","none")},this.enableEvents=function(){W.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){F=jQuery.extend(F,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(F.tile_size_by!==D.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");F.tile_width=e,F.tile_height=Math.floor(e*Y.ratioByHeight)},this.setCustomFunctions=function(e,t){Y.funcCustomTileHtml=e,Y.funcCustomPositionElements=t},this.run=function(e){var t=W.type.GET_THUMBS_ALL;!0===e&&(t=W.type.GET_THUMBS_NEW);var i=W.getThumbs(t);F.tile_size_by==D.sizeby.GLOBAL_RATIO&&D.resizeAllTiles(F.tile_width,D.resizemode.WRAPPER_ONLY,i),1==F.tile_enable_image_effect&&0==F.tile_image_effect_reverse&&i.children(".ug-thumb-image").fadeTo(0,0),W.setHtmlProperties(i),1==F.tile_visible_before_image&&(i.children(".ug-thumb-image").fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return F},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=p(t);if(null===i)return null;var n=Math.floor((e-Y.tileInnerReduce)*i)+Y.tileInnerReduce;return t&&1==Y.isTextpanelOutside&&F.tile_size_by==D.sizeby.IMAGE_RATIO&&(n+=g(t)),n},this.getTileImageSize=function(e){var t=D.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(F.tile_size_by!=D.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:F.tile_width,height:F.tile_height}}}function UGAviaControl(){function e(e){return 0==_?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==f.isControlEnabled||void(f.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==f.isControlEnabled)return!0;if(1==f.touchEnabled)return jQuery("body").off("mousemove"),!0;f.isMouseInsideStrip=g.ismouseover();var i=u.isTouchMotionActive();1==f.isMouseInsideStrip&&0==i?l(e(t)):a()})}function i(e){var t=p.strip_padding_top,i=(p.strip_padding_bottom,g.height()),n=h.height();if(i>n)return null;var r=e-g.offset().top-t;if(0>r)return null;var o=p.thumb_height,a=i-p.thumb_height,s=a-o;o>r&&(r=o),r>a&&(r=a);var l=(n-i)*((r-o)/s);return l=-1*Math.round(l)+t}function n(e){var t=p.strip_padding_left,i=p.strip_padding_right,n=g.width()-t-i,r=h.width();if(n>r)return null;var o=e-g.offset().left-t,a=p.thumb_width,s=n-p.thumb_width,l=s-a;a>o&&(o=a),o>s&&(o=s);var u=(r-n)*((o-a)/l);return u=-1*Math.round(u)+t}function r(){if(0==f.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(f.strip_finalPos)&&a();var t,i=Math.abs(f.strip_finalPos-e);1>i?t=i:(t=i/4)>0&&1>t&&(t=1),f.strip_finalPos<e&&(t*=-1);var n=e+t;u.positionInnerStrip(n)}function o(){return 1!=f.isStripMoving&&(f.isStripMoving=!0,void(f.handle_timeout=setInterval(r,10)))}function a(){return 0!=f.isStripMoving&&(f.isStripMoving=!1,void(f.handle_timeout=clearInterval(f.handle_timeout)))}function s(e){return 0==_?n(e):i(e)}function l(e){var t=s(e);return null!==t&&(f.is_strip_moving=!0,f.strip_finalPos=t,void o())}var u,d,c,g,h,p,_,f={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){f.isControlEnabled=!0},this.disable=function(){f.isControlEnabled=!1},this.init=function(e){u=e,c=e.getObjects(),d=c.g_gallery,g=c.g_objStrip,h=c.g_objStripInner,p=c.g_options,_=c.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,n){me=e,n&&(pe=n,t=Te.convertCustomPrefixOptions(t,pe,"slider")),te=jQuery(e);var r=me.getObjects();if(ie=r.g_objWrapper,ne=r.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Ie.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Ie.slider_progress_indicator_type&&(Ie=jQuery.extend(Ie,Se)),t&&_e.setOptions(t),i(),1==Ie.slider_enable_bullets){ye=new UGBullets;var o={bullets_skin:Ie.slider_bullets_skin,bullets_space_between:Ie.slider_bullets_space_between};ye.init(me,o)}Ie.slider_enable_text_panel&&(Ee=new UGTextPanel).init(me,Ie,"slider"),Ie.slider_enable_zoom_panel&&(he=new UGZoomButtonsPanel).init(_e,Ie);var a=me.getGalleryID();we.init(Ie,!1,a)}function t(){if(1==Pe.isRunOnce)return!1;if(Pe.isRunOnce=!0,Ie.slider_background_color){var e=Ie.slider_background_color;1!=Ie.slider_background_opacity&&(e=Te.convertHexToRGB(e,Ie.slider_background_opacity)),re.css("background-color",e)}else 1!=Ie.slider_background_opacity&&(e=Te.convertHexToRGB("#000000",Ie.slider_background_opacity),re.css("background-color",e));1==Ie.slider_control_swipe&&(ce=new UGTouchSliderControl).init(_e,Ie),1==Ie.slider_control_zoom&&(ge=new UGZoomSliderControl).init(_e,Ie),Ee&&Ee.run(),q()}function i(){var e=me.getOptions(),t=e.gallery_skin;""==Ie.slider_bullets_skin&&(Ie.slider_bullets_skin=t),""==Ie.slider_arrows_skin&&(Ie.slider_arrows_skin=t),""==Ie.slider_zoompanel_skin&&(Ie.slider_zoompanel_skin=t),""==Ie.slider_play_button_skin&&(Ie.slider_play_button_skin=t),""==Ie.slider_fullscreen_button_skin&&(Ie.slider_fullscreen_button_skin=t),Ie.video_enable_closebutton=Ie.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Ie.slider_zoom_mousewheel=!1)}function n(e,t){var i="ug-type-square";"round"==Ie.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+="</div>"}function r(e){e&&(ie=e);var t=X(),i=(me.getOptions(),"<div class='ug-slider-wrapper'>");i+="<div class='ug-slider-inner'>",i+=n(t,1),i+=n(t,2),i+=n(t,3),i+="</div>",1==Ie.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Ie.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Ie.slider_arrows_skin+"'></div>"),1==Ie.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+Ie.slider_play_button_skin+"'></div>"),1==Ie.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Ie.slider_fullscreen_button_skin+"'></div>"),i+="</div>",ie.append(i),re=ie.children(".ug-slider-wrapper"),oe=re.children(".ug-slider-inner"),ae=oe.children(".ug-slide1"),se=oe.children(".ug-slide2"),le=oe.children(".ug-slide3"),ae.data("slidenum",1),se.data("slidenum",2),le.data("slidenum",3),ye&&ye.appendHTML(re),1==Ie.slider_enable_arrows&&(ue=re.children(".ug-arrow-left"),de=re.children(".ug-arrow-right")),1==Ie.slider_enable_play_button&&(ve=re.children(".ug-button-play")),1==Ie.slider_enable_fullscreen_button&&(be=re.children(".ug-button-fullscreen")),1==Ie.slider_enable_progress_indicator&&("bar"==(xe=Te.initProgressIndicator(Ie.slider_progress_indicator_type,Ie,re)).getType()&&"pie"==Ie.slider_progress_indicator_type&&(Ie.slider_progress_indicator_type="bar",Ie=jQuery.extend(Ie,Se)),me.setProgressIndicator(xe)),1==Ie.slider_enable_text_panel&&(Ee.appendHTML(re),0==Ie.slider_textpanel_always_on)&&(Ee.getElement().hide().data("isHidden",!0),Pe.isTextPanelSaparateHover=!0),1==Ie.slider_enable_zoom_panel&&he.appendHTML(re),we.setHtml(oe)}function o(e){var t=K(e);Te.placeElementInParentCenter(t);var i=J(e);Te.placeElementInParentCenter(i)}function a(){if(ye&&(objBullets=ye.getElement(),Te.placeElement(objBullets,Ie.slider_bullets_align_hor,Ie.slider_bullets_align_vert,Ie.slider_bullets_offset_hor,Ie.slider_bullets_offset_vert),Te.placeElement(objBullets,Ie.slider_bullets_align_hor,Ie.slider_bullets_align_vert,Ie.slider_bullets_offset_hor,Ie.slider_bullets_offset_vert)),1==Ie.slider_enable_arrows&&(Te.placeElement(ue,Ie.slider_arrow_left_align_hor,Ie.slider_arrow_left_align_vert,Ie.slider_arrow_left_offset_hor,Ie.slider_arrow_left_offset_vert),Te.placeElement(de,Ie.slider_arrow_right_align_hor,Ie.slider_arrow_left_align_vert,Ie.slider_arrow_right_offset_hor,Ie.slider_arrow_right_offset_vert)),0==Ie.slider_controls_always_on&&M(!0),xe){var e=xe.getElement();if("bar"==Ie.slider_progress_indicator_type){var t=re.width();xe.setSize(t),Te.placeElement(e,"left",Ie.slider_progress_indicator_align_vert,0,Ie.slider_progress_indicator_offset_vert)}else Te.placeElement(e,Ie.slider_progress_indicator_align_hor,Ie.slider_progress_indicator_align_vert,Ie.slider_progress_indicator_offset_hor,Ie.slider_progress_indicator_offset_vert)}Ee&&Ee.positionPanel(),s(),o(ae),o(se),o(le),C()}function s(){if(ve&&Te.placeElement(ve,Ie.slider_play_button_align_hor,Ie.slider_play_button_align_vert,Ie.slider_play_button_offset_hor,Ie.slider_play_button_offset_vert),be&&Te.placeElement(be,Ie.slider_fullscreen_button_align_hor,Ie.slider_fullscreen_button_align_vert,Ie.slider_fullscreen_button_offset_hor,Ie.slider_fullscreen_button_offset_vert),he){var e=he.getElement();Te.placeElement(e,Ie.slider_zoompanel_align_hor,Ie.slider_zoompanel_align_vert,Ie.slider_zoompanel_offset_hor,Ie.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,r=_e.getSlidesReference(),o=0;i=_e.isSlideHasItem(r.objNextSlide),(n=_e.isSlideHasItem(r.objPrevSlide))?(o=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),e=t=o+r.objCurrentSlide.outerWidth(),i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),Te.placeElement(r.objCurrentSlide,o,0),oe.css({left:-o+"px",width:e+"px"}),n&&(Te.placeElement(r.objPrevSlide,0,0),Te.showElement(r.objPrevSlide)),i&&(Te.showElement(r.objNextSlide),Te.placeElement(r.objNextSlide,t,0))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=me.getItem(t);return!!i&&void f(e,i)}function d(e){e.stop(!0).show(100)}function c(e){e.stop(!0).hide(100)}function g(e,t){if(10>=(a=Ie.slider_image_border_width))return a;var i=Te.getElementSize(e),n=i.width,r=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(n=t.imageWidth),t.hasOwnProperty("imageHeight")&&(r=t.imageHeight)),0>=n)return a;var o=r>n?n:r;if(2*a/o<Ie.slider_image_border_maxratio)return a;var a=o*Ie.slider_image_border_maxratio/2;return a=Math.round(a)}function h(e,t,i){var n={};if(1==Ie.slider_image_border){n["border-style"]="solid";var r=g(e,i);n["border-width"]=r+"px",n["border-color"]=Ie.slider_image_border_color,n["border-radius"]=Ie.slider_image_border_radius}"image"!=t&&1==Ie.slider_video_constantsize&&(n["background-color"]="#000000"),1==Ie.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function p(e,t){var i=Ie.slider_video_constantsize_width,n=Ie.slider_video_constantsize_height,r=Ie.slider_video_constantsize_scalemode;return Te.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r)}function _(e,t,i){var n=e.children(".ug-item-wrapper"),r=K(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,a=e.data("urlImage");e.data("urlImage",o);var s=_e.getScaleMode(e),l=_e.getSlideType(e);if(objPadding=_e.getObjImagePadding(),a==o&&!0!==i){var u=n.children("img");(0==t.imageWidth||0==t.imageHeight)&&me.checkFillImageSize(u,t);g={};h(u,l,g="image"!=l&&1==Ie.slider_video_constantsize?p(u,t):Te.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding)),fe.trigger(_e.events.AFTER_PUT_IMAGE,e)}else if(u=Te.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),c(r),"image"!=l&&1==Ie.slider_video_constantsize)g=p(u,t);else var g=Te.getImageInsideParentData(n,t.imageWidth,t.imageHeight,s,objPadding);u.css("width",g.imageWidth+"px"),h(u,l,g),fe.trigger(_e.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),d(r),e.data("isLoading",!0),_e.isSlideCurrent(e)&&fe.trigger(_e.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=_e.getSlideType(i),r=K(i),o=_e.getObjImagePadding(),a=_e.getScaleMode(i);c(r),i.data("isLoading",!1),_e.isSlideCurrent(i)&&fe.trigger(_e.events.CURRENTSLIDE_LOAD_END),me.onItemBigImageLoaded(null,e);var s=me.getItem(t),l={};"image"!=n&&1==Ie.slider_video_constantsize?p(e,s):l=Te.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),h(e,n,l),fe.trigger(_e.events.AFTER_PUT_IMAGE,i)})}function f(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==Ie.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),_(e,t);var n=J(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&me.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function m(){if(!Ee)return!1;if(1==b())return!1;var e=Ee.getElement(),t=0;(1==Pe.isTextPanelSaparateHover||1==Ie.slider_textpanel_always_on)&&(t=Ie.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function v(){if(!Ee)return!1;if(0==b())return!1;var e=Ee.getElement(),t=0;(1==Pe.isTextPanelSaparateHover||1==Ie.slider_textpanel_always_on)&&(e.show(),Ee.positionElements(),t=Ie.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function b(){return!1!==Ee.getElement().data("isHidden")}function y(e,t){if(void 0==t)var t=_e.getCurrentSlide();var i=_e.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(){var e=_e.getCurrentSlide(),t=_e.getSlideImage(e),i=Te.getElementSize(e),n=i.left,r=i.top;if(1==Ie.slider_video_constantsize){var o=Te.getElementSize(t);n+=o.left,r+=o.top}else n+=Ie.slider_video_padding_left,r+=Ie.slider_video_padding_top;we.setPosition(n,r)}function T(){var e=Ie.slider_video_constantsize_width,t=Ie.slider_video_constantsize_height;we.setSize(e,t),h(we.getObject(),"video")}function x(e,t,i){fe.trigger(_e.events.TRANSITION_START);var n=Ie.slider_transition;switch(i&&(n=i),_e.stopSlideAction(null,!0),n){default:case"fade":S(t);break;case"slide":E(e,t);break;case"lightbox_open":S(t,!1,!0)}}function E(e,t){if(1==_e.isAnimating())return Pe.itemWaiting=t,!0;null!=Pe.itemWaiting&&(Pe.itemWaiting=null);var i=_e.getSlidesReference();switch(e){case"right":f(i.objPrevSlide,t),l();n=-Te.getElementSize(i.objPrevSlide).left;_e.switchSlideNums("right");break;case"left":f(i.objNextSlide,t),l();var n=-Te.getElementSize(i.objNextSlide).left;_e.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var r={duration:Ie.slider_transition_speed,easing:Ie.slider_transition_easing,queue:!1,always:function(){_e.stopSlideAction(),we.hide(),null!=Pe.itemWaiting?E($(Pe.itemWaiting),Pe.itemWaiting):(_e.placeNabourItems(),fe.trigger(_e.events.TRANSITION_END))}};oe.animate({left:n+"px"},r)}function I(e,t,i){i?e.fadeTo(Ie.slider_transition_speed,t,i):e.fadeTo(Ie.slider_transition_speed,t)}function S(e,t,i){if(!t)var t=!1;var n=_e.getSlidesReference();f(n.objNextSlide,e);var r=Te.getElementSize(n.objCurrentSlide);Te.placeElement(n.objNextSlide,r.left,r.top);var o=Pe.numCurrent;Pe.numCurrent=Pe.numNext,Pe.numNext=o,fe.trigger(_e.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t?(n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),_e.placeNabourItems(),fe.trigger(_e.events.TRANSITION_END),!0!==i&&we.hide()):(n.objNextSlide.fadeTo(0,0),I(n.objCurrentSlide,0,function(){_e.placeNabourItems(),fe.trigger(_e.events.TRANSITION_END),!0!==i&&we.hide()}),1==we.isVisible()&&I(we.getObject(),0),I(n.objNextSlide,1))}function P(){1==Ie.slider_fullscreen_button_mobilehide&&be&&be.hide(),1==Ie.slider_play_button_mobilehide&&ve&&ve.hide(),1==Ie.slider_zoompanel_mobilehide&&he&&he.getElement().hide()}function j(){1==Ie.slider_fullscreen_button_mobilehide&&be&&be.show(),1==Ie.slider_play_button_mobilehide&&ve&&ve.show(),1==Ie.slider_zoompanel_mobilehide&&he&&he.getElement().show()}function C(){me.isMobileMode()?P():j()}function A(){return re.children(".ug-slider-control")}function M(e){if(0==Te.isTimePassed("sliderControlsToggle"))return!1;if(0==Pe.isControlsVisible)return!1;if(!e)var e=!1;var t=A();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Ie.slider_controls_appear_duration,0,function(){t.hide()}),Pe.isControlsVisible=!1}function O(e){if(0==Te.isTimePassed("sliderControlsToggle"))return!1;if(1==Pe.isControlsVisible)return!0;if(!e)var e=!1;var t=A();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Ie.slider_controls_appear_duration,1)),Pe.isControlsVisible=!0}function N(){0==Pe.isControlsVisible?O():M()}function k(e){if(e==Pe.currentControlsMode)return!1;switch(e){case"image":he&&he.getElement().show();break;case"video":he&&he.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Pe.currentControlsMode=e}function L(e,t,i){var n=me.getSelectedItem();_e.setItem(n,!1,i);var r=n.index;ye&&ye.setActive(r),Ee&&0==Pe.isTextPanelSaparateHover&&v(),k("image"==n.type?"image":"video")}function H(e,t){me.selectItem(t)}function z(e){return!(!ce||0!=ce.isTapEventOccured(e))||void fe.trigger(_e.events.CLICK,e)}function D(){var e=_e.getCurrentSlide().hasClass("ug-slide-clickable"),t=_e.getCurrentItem();return e?(0==Ie.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0):void(0==Ie.slider_controls_always_on&&1==Ie.slider_controls_appear_ontap&&1==_e.isCurrentSlideType("image")&&(N(),Ee&&1==Ie.slider_textpanel_always_on&&_e.isCurrentSlideType("image")&&_e.isCurrentSlideImageFit()&&v()))}function R(e){Ee&&_e.isCurrentSlideType("image")&&0==_e.isCurrentSlideImageFit()&&m()}function G(){O()}function Q(){M()}function W(e){var t=e.parent();_e.startSlideAction(t)}function F(){me.isPlayMode()&&me.pausePlaying(),fe.trigger(_e.events.ACTION_START)}function B(){me.isPlayMode()&&me.continuePlaying(),fe.trigger(_e.events.ACTION_END)}function Y(e,t,i){ae.data("index")==t&&(objItem=me.getItem(t),_(ae,objItem,!0)),se.data("index")==t&&(objItem=me.getItem(t),_(se,objItem,!0)),le.data("index")==t&&(objItem=me.getItem(t),_(le,objItem,!0))}function U(e,t){t=jQuery(t);var i=_e.getSlideImage(t),n=J(t),r=Te.getElementSize(i);Te.placeElement(n,"center","middle",r.left,r.top,i)}function V(e){var t=J(e);Te.addClassOnHover(t),Te.setButtonOnClick(t,W)}function q(){te.on(me.events.ITEM_IMAGE_UPDATED,Y),te.on(me.events.ITEM_CHANGE,L),ye&&jQuery(ye).on(ye.events.BULLET_CLICK,H),1==Ie.slider_enable_arrows&&(Te.addClassOnHover(de,"ug-arrow-hover"),Te.addClassOnHover(ue,"ug-arrow-hover"),me.setNextButton(de),me.setPrevButton(ue)),0==Ie.slider_controls_always_on&&re.hover(G,Q),re.on("touchend click",z),fe.on(_e.events.CLICK,D),Ee&&1==Pe.isTextPanelSaparateHover&&re.hover(v,m),ve&&(Te.addClassOnHover(ve,"ug-button-hover"),me.setPlayButton(ve)),be&&(Te.addClassOnHover(be,"ug-button-hover"),me.setFullScreenToggleButton(be)),ge&&fe.on(_e.events.ZOOM_CHANGE,R),he&&he.initEvents(),we.initEvents(),jQuery(we).on(we.events.SHOW,F),jQuery(we).on(we.events.HIDE,B),V(ae),V(se),V(le),fe.on(_e.events.AFTER_PUT_IMAGE,U),re.on("mouseenter",".ug-item-wrapper img",function(e){fe.trigger(_e.events.IMAGE_MOUSEENTER)}),re.on("mouseleave",".ug-item-wrapper img",function(e){0==_e.isMouseInsideSlideImage(e)&&fe.trigger(_e.events.IMAGE_MOUSELEAVE)})}function X(){var e;switch(Ie.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Ie.slider_loader_color&&(e+=" ug-loader-black"),e}function Z(e){switch(e){case 1:return ae;case 2:return se;case 3:return le;default:throw new Error("wrong num: "+e)}}function $(e){var t="left";return _e.getSlidesReference().objCurrentSlide.data("index")>e.index&&(t="right"),t}function K(e){if(!e)var e=_e.getCurrentSlide();return e.children(".ug-slider-preloader")}function J(e){return e.children(".ug-button-videoplay")}function ee(e){if(!e)var e=_e.getCurrentSlide();var t=e.data("index");return void 0==t?null:me.getItem(t)}var te,ie,ne,re,oe,ae,se,le,ue,de,ce,ge,he,pe,_e=this,fe=jQuery(_e),me=new UniteGalleryMain,ve=null,be=null,ye=null,we=new UGVideoPlayer,Te=new UGFunctions,xe=null,Ee=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Ie={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Se={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Pe={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(fe.trigger(_e.events.BEFORE_SWITCH_SLIDES),e){case"left":t=Pe.numCurrent;Pe.numCurrent=Pe.numNext,Pe.numNext=Pe.numPrev,Pe.numPrev=t;break;case"right":var t=Pe.numCurrent;Pe.numCurrent=Pe.numPrev,Pe.numPrev=Pe.numNext,Pe.numNext=t;break;default:throw new Error("wrong direction: "+e)}fe.trigger(_e.events.ITEM_CHANGED)},this.destroy=function(){fe.off(_e.events.AFTER_PUT_IMAGE),te.off(me.events.ITEM_IMAGE_UPDATED),te.off(me.events.ITEM_CHANGE),ye&&jQuery(ye).on(ye.events.BULLET_CLICK),re.off("mouseenter"),re.off("mouseleave"),re.off("touchend"),re.off("click"),fe.off(_e.events.CLICK),ge&&fe.off(_e.events.ZOOM_CHANGE),fe.off(_e.events.BEFORE_SWITCH_SLIDES),jQuery(we).off(we.events.SHOW),jQuery(we).off(we.events.HIDE),we.destroy(),re.off("mouseenter",".ug-item-wrapper img"),re.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)var e=_e.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){r(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=_e.getSlidesReference();return-Te.getElementSize(e.objCurrentSlide).left==Te.getElementSize(oe).left},this.isAnimating=function(){return oe.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Pe.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return void 0!==t&&null!==t},this.getObjImagePadding=function(){return{padding_top:Ie.slider_image_padding_top,padding_bottom:Ie.slider_image_padding_bottom,padding_left:Ie.slider_image_padding_left,padding_right:Ie.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:Z(Pe.numPrev),objNextSlide:Z(Pe.numNext),objCurrentSlide:Z(Pe.numCurrent)}},this.getCurrentSlide=function(){return _e.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=_e.getSlidesReference().objCurrentSlide.data("index");return(null===e||void 0===e)&&(e=-1),e},this.getCurrentItem=function(){var e=_e.getCurrentItemIndex();return-1==e?null:me.getItem(e)},this.getSlideType=function(e){return void 0==e&&(e=_e.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=_e.getSlideImage(),i=Te.getMousePosition(e);void 0===i.pageX&&(i=ce.getLastMousePos());var n=Te.getMouseElementPoint(i,t),r=Te.getElementSize(t);return isMouseInside=Te.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){return _e.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===_e.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=_e.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;if(void 0==r)f(n.objCurrentSlide,e),_e.placeNabourItems();else{var a="left";me.getNumItems(),"next"==i?a="left":"prev"==i||r>o?a="right":r>o&&(a="right"),x(a,e,t)}},this.placeNabourItems=function(){var e=_e.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=me.getPrevItem(t),n=me.getNextItem(t);f(e.objNextSlide,n),f(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=_e.getCurrentSlide()),!0===t?we.pause():we.hide()},this.startSlideAction=function(e){e||(e=_e.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==Ie.slider_video_constantsize&&T(),w(),we.show(),t.type){case"youtube":we.playYoutube(t.videoid);break;case"vimeo":we.playVimeo(t.videoid);break;case"html5video":we.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":we.playSoundCloud(t.trackid);break;case"wistia":we.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=_e.getCurrentSlide();return"image"!=_e.getSlideType(e)?Ie.slider_scale_mode_media:Ie.slider_scale_mode==Ie.slider_scale_mode_fullscreen?Ie.slider_scale_mode:1==me.isFullScreen()?Ie.slider_scale_mode_fullscreen:Ie.slider_scale_mode},this.getObjects=function(){return{g_objSlider:re,g_objInner:oe,g_options:Ie,g_objZoomSlider:ge}},this.getObjZoom=function(){return ge},this.getOptions=function(){return Ie},this.getElement=function(){return re},this.getVideoObject=function(){return we},this.isCurrentSlideImageFit=function(){var e=_e.getCurrentSlide();_e.getSlideType(e),y("image",e);var t=_e.getSlideImage(e);return 0!=t.length&&Te.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=_e.getSlideImage();if(0==e.length)return!1;var t=_e.getScaleMode(),i=_e.getObjImagePadding(),n=ee(),r=e.parent(),o=Te.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),a=Te.getElementSize(e),s=!1;return o.imageWidth==a.width&&(s=!0),s},this.isSlideActionActive=function(){return we.isVisible()},this.isSwiping=function(){return!!ce&&ce.isTouchActive()},this.isPreloading=function(){return!!K().is(":visible")},this.setOptions=function(e){pe&&(e=Te.convertCustomPrefixOptions(e,pe,"slider")),Ie=jQuery.extend(Ie,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var i={};i.width=e+"px",i.height=t+"px",re.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",oe.css(n);var r={};r.height=t+"px",r.width=e+"px",ae.css(r),se.css(r),le.css(r);var o=e-Ie.slider_item_padding_left-Ie.slider_item_padding_right,s=t-Ie.slider_item_padding_top-Ie.slider_item_padding_bottom,d={};if(d.width=o+"px",d.height=s+"px",d.top=Ie.slider_item_padding_top+"px",d.left=Ie.slider_item_padding_left+"px",re.find(".ug-item-wrapper").css(d),Ee&&Ee.setSizeByParent(),a(),u(ae),u(se),u(le),l(),"image"!=_e.getSlideType()&&1==Ie.slider_video_constantsize)T();else{var c=e-Ie.slider_video_padding_left-Ie.slider_video_padding_right,g=t-Ie.slider_video_padding_top-Ie.slider_video_padding_bottom;we.setSize(c,g)}w()},this.refreshSlideItems=function(){return 1==_e.isAnimating()||(u(ae),u(se),u(le),void l())},this.isMouseOver=function(){return re.ismouseover()},this.setPosition=function(e,t){Te.placeElement(re,e,t)},this.zoomIn=function(){return!ge||void ge.zoomIn()},this.zoomOut=function(){return!ge||void ge.zoomOut()},this.zoomBack=function(){return!ge||void ge.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;n=t;if(d){var i=n;if(f.placeElement(d,0,i),1==d.is(":visible"))(n=f.getElementSize(d).bottom)>0&&(b.lastTitleBottom=n);else{var n=20;b.lastTitleBottom>0&&(n=b.lastTitleBottom)}}var o="";if(c&&(o=jQuery.trim(c.text())),""!=o){var a=n;if(d&&(a+=v.textpanel_padding_title_description),f.placeElement(c,0,a),1==jQuery(c).is(":visible")){var s=f.getElementSize(c);n=s.bottom,s.height>0&&(b.lastDescHeight=s.height)}else{var l=16;b.lastDescHeight>0&&(l=b.lastDescHeight),n=a+l}}v.textpanel_height||1!=b.setInternalHeight||r(n+v.textpanel_padding_bottom,e)}function t(){var e=0;if(d&&(e+=d.outerHeight()),c){var t="";c&&(t=jQuery.trim(c.text())),""!=t&&(d&&(e+=v.textpanel_padding_title_description),e+=c.outerHeight())}return e}function i(){var i=t();e(!1,(h.height()-i)/2)}function n(){var i=t();e(!1,h.height()-i-v.textpanel_padding_bottom)}function r(e,t){if(!t)var t=!1;if(1==t){g&&e>g.height()&&g.height(e);var i={height:e+"px"};l.add(h).animate(i,v.textpanel_fade_duration)}else g&&g.height(e),l.add(h).height(e)}function o(){if(1==v.textpanel_enable_bg){(g=l.children(".ug-textpanel-bg")).fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),g.css(e)}if(1==v.textpanel_enable_title){d=h.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(!0===v.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){c=h.children(".ug-textpanel-description");var i={};null!==v.textpanel_desc_color&&(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(i["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(i["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(i["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(!0===v.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),v.textpanel_css_title&&(i=jQuery.extend(i,v.textpanel_css_description)),c.css(i)}}function a(){var e=p.getSelectedItem();_.setText(e.title,e.description)}function s(){jQuery(p).on(p.events.ITEM_CHANGE,a)}var l,u,d,c,g,h,p,_=this,f=new UGFunctions,m="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t,i){if(p=e,i&&(m=i,t=f.convertCustomPrefixOptions(t,m,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==v.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),h=l.children(".ug-textpanel-textwrapper"),o()},this.destroy=function(){jQuery(p).off(p.events.ITEM_CHANGE)},this.run=function(){_.setSizeByParent(),s()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else var t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),g&&(g.width(e),g.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;f.setElementSizeAndPosition(h,n,0,i,t),d&&d.width(i),c&&c.width(i),0==b.isFirstTime&&_.positionElements(!1)},this.setSizeByParent=function(){var e=f.getElementSize(u);_.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&&d.html(e),c&&c.html(t)},this.setText=function(e,t){1==b.isFirstTime?(_.setTextPlain(e,t),b.isFirstTime=!1,_.positionElements(!1)):h.stop().fadeTo(v.textpanel_fade_duration,0,function(){_.setTextPlain(e,t),_.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(void 0!==e&&null!==e)i.top=e,i.bottom="auto";else switch(v.textpanel_align){case"top":i.top=v.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=v.textpanel_margin+"px";break;case"middle":i.top=f.getElementRelativePos(l,"middle",v.textpanel_margin)}void 0!==t&&null!==t&&(i.left=t),l.css(i)},this.setOptions=function(e){m&&(e=f.convertCustomPrefixOptions(e,m,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){return f.getElementSize(l)},this.refresh=function(e,t,i,n){o(),i?_.setPanelSize(i,n):_.setSizeByParent(),_.positionElements(!1),!0!==t&&_.positionPanel(),!0===e&&_.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==d.isCurrentSlideType("image"))return!0;1==d.isCurrentSlideImageFit()?0==e(s)&&(t(s),t(l)):1==e(s)&&(i(s),i(l))}var r,o,a,s,l,u=this,d=new UGSlider,c=new UGFunctions,g={slider_zoompanel_skin:""};this.init=function(e,t){d=e,t&&(g=jQuery.extend(g,t))},this.appendHTML=function(e){o=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+g.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),a=r.children(".ug-zoompanel-plus"),s=r.children(".ug-zoompanel-minus"),l=r.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){a=e,l=i,(s=t)&&s.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return r},u.initEvents=function(){c.addClassOnHover(a,"ug-button-hover"),c.addClassOnHover(s,"ug-button-hover"),c.addClassOnHover(l,"ug-button-hover"),c.setButtonOnClick(a,function(){return 1==e(a)||void d.zoomIn()}),c.setButtonOnClick(s,function(){return 1==e(s)||void d.zoomOut()}),c.setButtonOnClick(l,function(){return 1==e(l)||void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,n),jQuery(d).on(d.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e="",t="";-1!=p.bullets_space_between&&(t=" style='margin-left:"+p.bullets_space_between+"px'");for(var i=0;u>i;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(o.html(e),!s){var n=o.find(".ug-bullet:first-child");n.length&&(s=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function i(){var e=o.children(".ug-bullet");g.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function n(e){if(0>e||e>=u)throw new Error("wrong bullet index: "+e)}function r(){if(1==h.isInited)return!0;throw new Error("The bullets are not inited!")}var o,a,s,l=this,u=0,d=new UniteGalleryMain,c=-1,g=new UGFunctions,h={isInited:!1},p={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){d=e,u=i||d.getNumItems(),h.isInited=!0,""==(p=jQuery.extend(p,t)).bullets_skin&&(p.bullets_skin=p.gallery_skin)},this.getBulletsWidth=function(){return 0==u?0:s?u*s+(u-1)*p.bullets_space_between:0},this.appendHTML=function(t){a=t,r();var n="";""!=p.bullets_addclass&&(n=" "+p.bullets_addclass);var s="<div class='ug-slider-control ug-bullets ug-skin-"+p.bullets_skin+n+"'>";s+="</div>",o=jQuery(s),t.append(o),e(),i()},this.updateNumBullets=function(t){u=t,e(),i()},this.getElement=function(){return o},this.setActive=function(e){r(),n(e);var t=o.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),c=e},this.isActive=function(e){if(n(e),"number"!=typeof e)t=e;else var t=o.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,i=this,n=0,r=new UGFunctions,o={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(o=jQuery.extend(o,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),(t=e.children(".ug-progress-bar-inner")).css("background-color",o.slider_progressbar_color),e.height(o.slider_progressbar_line_width),t.height(o.slider_progressbar_line_width),t.width("0%");var r=o.slider_progressbar_opacity,a=t[0];a.style.opacity=r,a.style.filter="alpha(opacity="+100*r+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,o){r.placeElement(e,t,i,n,o)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=r.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(a.slider_progresspie_width,a.slider_progresspie_height)/2,n=i[0].getContext("2d");0==r&&(r=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,a.slider_progresspie_width,a.slider_progresspie_height);var o=a.slider_progresspie_width/2,s=a.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==a.slider_progresspie_type_fill)n.beginPath(),n.moveTo(o,s),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(o,s),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation="destination-out";var d=t-a.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(o,s),n.arc(o,s,d,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color1,n.fill(),n.closePath()}1==a.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,n.beginPath(),n.arc(o,s,t,l,u),n.lineTo(o,s),n.fillStyle=a.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,r=!1,o=new UGFunctions,a={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(a=jQuery.extend(a,t)),e.append("<canvas class='ug-canvas-pie' width='"+a.slider_progresspie_width+"' height='"+a.slider_progresspie_height+"'></canvas>"),i=e.children(".ug-canvas-pie")},this.putHidden=function(t,r){n.put(t,r),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){o.placeElement(i,e,t)},this.getSize=function(){return{width:a.slider_progresspie_width,height:a.slider_progresspie_height}},this.setProgress=function(i){i=o.normalizePercent(i),t=i,e(i)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=f.getSlidesReference();return-m.getElementSize(e.objCurrentSlide).left-m.getElementSize(p).left}function t(){var t=f.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;var r=Math.abs(b.lastMouseX-b.startMouseX);return Math.abs(b.lastMouseY-b.startMouseY),!(20>r)&&500>jQuery.now()-b.startTime}function i(e){if(1==f.isInnerInPlace())return!1;if(_.trigger(f.events.BEFORE_RETURN),!e)var e=f.getSlidesReference();var t=-m.getElementSize(e.objCurrentSlide).left;p.animate({left:t+"px"},{duration:v.slider_transition_return_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(e,i,n){if(1==b.isDragVideo){var r=m.getElementSize(p).left-t,o=b.videoStartX+r;b.videoObject.css("left",o)}},complete:function(){_.trigger(f.events.AFTER_RETURN)}})}function n(e){f.getVideoObject().hide(),f.switchSlideNums(e),f.placeNabourItems()}function r(){var t=f.getSlidesReference(),r=e(t);if(0==r)return!1;var o=r>0?"left":"right",a=!1;switch(o){case"right":if(f.isSlideHasItem(t.objPrevSlide))var s=m.getElementSize(t.objPrevSlide),l=-s.left;else a=!0;break;case"left":if(f.isSlideHasItem(t.objNextSlide))var u=m.getElementSize(t.objNextSlide),l=-u.left;else a=!0}1==a?i(t):p.stop().animate({left:l+"px"},{duration:v.slider_transition_continuedrag_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=m.getElementSize(p).left-b.startPosx,t=b.videoStartX+e;b.videoObject.css("left",t)}},always:function(){n(o),_.trigger(f.events.AFTER_DRAG_CHANGE)}})}function o(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var i=0>t?"left":"right",n=f.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return a(e),!0}var r=b.startPosx+t;if(t>0&&r>0)r/=3;else if(0>t){var o=r+p.width();h.width()>o&&(r=b.startPosx+t/3)}if(0==b.isDragging&&(b.isDragging=!0,_.trigger(f.events.START_DRAG)),p.css("left",r+"px"),1==b.isDragVideo){var s=r-b.startPosx,l=b.videoStartX+s;b.videoObject.css("left",l)}}function a(e){var t=m.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var i=m.getArrTouches(e);b.startArrTouches=m.getArrTouchPositions(i);var n=m.getElementSize(p);b.startPosx=n.left,b.isInitDataValid=!0,b.isDragVideo=!1,m.storeEventData(e,b.storedEventID)}function s(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,a(t)}function u(e){return e.preventDefault(),b.isDragging=!1,1==f.isAnimating()&&p.stop(!0,!0),m.getArrTouches(e).length>1?(1==b.touch_active&&s("1"),!0):1==b.touch_active||void l("1",e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return s("2"),r(),!0;m.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=m.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var i=null;1==v.slider_vertical_scroll_ondrag&&(i=m.handleScrollTop(b.storedEventID)),"vert"!==i&&o(e)}function c(e){var n=m.getArrTouches(e).length;if(1==f.isInnerInPlace()&&0==b.touch_active&&0==n)return!0;if(0==n&&1==b.touch_active){s("3");var o=!1;0==m.wasVerticalScroll(b.storedEventID)&&(o=t()),1==o?r():i()}else 1==n&&0==b.touch_active&&l("2",e)}function g(){h.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",c)}var h,p,_,f=new UGSlider,m=new UGFunctions,v={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=m.getArrTouches(t).length;if(0!=i||0!=b.lastNumTouches)return b.lastNumTouches=i,!1;b.lastNumTouches=i;var n=(e(f.getSlidesReference()),Math.abs(b.lastMouseX-b.startMouseX)),r=Math.abs(b.lastMouseY-b.startMouseY),o=jQuery.now()-b.startTime;return 20>n&&50>r&&500>o},this.init=function(e,t){f=e,_=jQuery(f),g_objects=e.getObjects(),h=g_objects.g_objSlider,p=g_objects.g_objInner,v=jQuery.extend(v,t),g()},this.getLastMousePos=function(){return{pageX:b.lastMouseX,pageY:b.lastMouseY}},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){x=e,T=jQuery(x),g_objects=e.getObjects(),y=g_objects.g_objSlider,w=g_objects.g_objInner,I=jQuery.extend(I,t),b()}function t(){var e=x.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){if(20>(n=jQuery.now())-S.storeImageLastTime)return!1;var e=x.getSlidesReference();if(S.objSlide=e.objCurrentSlide,S.objImage=e.objCurrentSlide.find("img"),0==S.objImage.length)return!1;S.objImageSize=E.getElementSize(S.objImage),S.objParent=S.objImage.parent(),S.objParentSize=E.getElementSize(S.objParent);var i=t();objPadding=x.getObjImagePadding(),S.objFitImageSize=E.getImageInsideParentDataByImage(S.objImage,i,objPadding);var n=jQuery.now();return S.storeImageLastTime=n,!0}function n(e,i){var n=x.getSlidesReference().objCurrentSlide.find("img"),r=t();T.trigger(x.events.ZOOM_START);var o=!0,a=x.getObjImagePadding();if("back"==e){var s=E.getImageOriginalSize(n);E.scaleImageFitParent(n,s.width,s.height,r,a)}else{var l="in"==e;o=E.zoomImageInsideParent(n,l,I.slider_zoom_step,i,r,I.slider_zoom_max_ratio,a)}1==o&&(T.trigger(x.events.ZOOMING),T.trigger(x.events.ZOOM_CHANGE),T.trigger(x.events.ZOOM_END))}function r(e,t,i){var n=E.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!E.isElementBiggerThenParent(e)}function o(e){var t=E.getMousePosition(e);S.startMouseX=t.pageX,S.startMouseY=t.pageY,S.lastMouseX=S.startMouseX,S.lastMouseY=S.startMouseY,S.startImageX=S.objImageSize.left,S.startImageY=S.objImageSize.top,S.panXActive=S.objImageSize.width>S.objParentSize.width,S.panYActive=S.objImageSize.height>S.objParentSize.height}function a(e){S.isPanActive=!0,o(e)}function s(e){if(void 0==S.objImage||0==S.objImage.length)return!0;var t=E.getMousePosition(e),i=(t.pageX,S.startMouseX,t.pageY,S.startMouseY,t.pageX-S.lastMouseX),n=t.pageY-S.lastMouseY,r=0>i?"left":"right",o=0>n?"up":"down";S.lastMouseX=t.pageX,S.lastMouseY=t.pageY;var a=E.getElementSize(S.objImage);0==S.panYActive?n=0:"down"==o&&a.top>0?n/=3:"up"==o&&a.bottom<S.objParentSize.height&&(n/=3),0==S.panXActive||0==x.isInnerInPlace()?i=0:"right"==r&&a.left>0?i/=3:"left"==r&&a.right<S.objParentSize.width&&(i/=3);var s=a.left+i,l=a.top+n;E.placeElement(S.objImage,s,l)}function l(){var e=!1,t=!1,i=0,n=0,r=E.getElementSize(S.objImage),o=x.getObjImagePadding(),a=E.getElementCenterPosition(S.objImage,o);S.panXActive=S.objImageSize.width>S.objParentSize.width,S.panYActive=S.objImageSize.height>S.objParentSize.height,1==S.panYActive?r.top>0?(n=0,t=!0):r.bottom<S.objParentSize.height&&(n=S.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,n=a.top),1==S.panXActive?r.left>0?(i=0,e=!0):r.right<S.objParentSize.width&&(i=S.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,i=a.left);var s={};1==t&&(s.top=n+"px"),1==e&&(s.left=i+"px"),(1==t||1==e)&&S.objImage.animate(s,{duration:I.slider_zoom_return_pan_duration,easing:I.slider_zoom_return_pan_easing,queue:!1})}function u(){return!(!S.objImage||!S.objImage.is(":animated"))}function d(e){S.isZoomActive=!0,S.startDistance=E.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==S.startDistance&&(S.startDistance=1),S.startMiddlePoint=E.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),S.objImageSize=E.getElementSize(S.objImage),S.startImageX=S.objImageSize.left,S.startImageY=S.objImageSize.top,S.imageOrientPoint=E.getElementLocalPoint(S.startMiddlePoint,S.objImage),0==E.isPointInsideElement(S.imageOrientPoint,S.objImageSize)&&(S.imageOrientPoint=E.getElementCenterPoint(S.objImage)),T.trigger(x.events.ZOOM_START)}function c(e){if(0==S.isZoomActive)return!1;2!=E.getArrTouches(e).length&&(S.isZoomActive=!1,T.trigger(x.events.ZOOM_END))}function g(e){if(1==S.isZoomActive)return!0;var t=E.getArrTouches(e);return 2!=t.length||void d(t)}function h(e){var t=E.getArrTouches(e),i=E.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/S.startDistance,n=E.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),r=S.objImageSize.width*i,o=S.objImageSize.height*i,a=E.getImageOriginalSize(S.objImage),s=1;if(a.width>0&&(s=r/a.width),s>I.slider_zoom_max_ratio)return!0;panX=-(S.imageOrientPoint.x*i-S.imageOrientPoint.x),panY=-(S.imageOrientPoint.y*i-S.imageOrientPoint.y);var l=n.x-S.startMiddlePoint.x,u=n.y-S.startMiddlePoint.y,d=S.startImageX+panX+l,c=S.startImageY+panY+u;E.setElementSizeAndPosition(S.objImage,d,c,r,o),T.trigger(x.events.ZOOMING),T.trigger(x.events.ZOOM_CHANGE)}function p(){if(void 0==S.objImage||0==S.objImage.length)return!0;if(E.getElementSize(S.objImage).width<S.objFitImageSize.imageWidth){S.objImage.css({position:"absolute",margin:"none"});var e={top:S.objFitImageSize.imageTop+"px",left:S.objFitImageSize.imageLeft+"px",width:S.objFitImageSize.imageWidth+"px",height:S.objFitImageSize.imageHeight+"px"};S.objImage.animate(e,{duration:I.slider_zoom_return_pan_duration,easing:I.slider_zoom_return_pan_easing,queue:!1})}else l()}function _(e){return 0==x.isCurrentSlideType("image")||(i(),void 0==S.objImage||0==S.objImage.length||(e.preventDefault(),1==u()&&S.objImage.stop(!0),1==S.isZoomActive?c(e):g(e),void(1==S.isZoomActive?S.isPanActive=!1:1==r(S.objImage,e)&&1==S.isZoomedOnce&&a(e))))}function f(e){if(0==x.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;if(i(),void 0==S.objImage||0==S.objImage.length)return!0;var t=S.isPanActive,n=S.isZoomActive;if(0==x.isInnerInPlace())return S.isZoomActive=!1,S.isPanActive=!1,!0;if(1==S.isZoomActive?c(e):g(e),1==S.isZoomActive)S.isPanActive=!1;else{var o=r(S.objImage,e,!0);1==S.isPanActive?S.isPanActive=!1:1==o&&a(e)}(t||n)&&0==S.isZoomActive&&0==S.isPanActive&&p()}function m(e){return 0==x.isCurrentSlideType("image")||void(1==S.isZoomActive?h(e):1==S.isPanActive&&s(e))}function v(e,t,i,r){if(0==I.slider_zoom_mousewheel)return!0;if(0==x.isCurrentSlideType("image"))return!0;e.preventDefault();var o=t>0,a=E.getMousePosition(e);n(1==o?"in":"out",a)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",_),jQuery("body").bind("mousemove touchmove",m),jQuery(window).add("body").bind("mouseup touchend",f),T.bind(x.events.BEFORE_RETURN,function(){p()}),T.bind(x.events.ITEM_CHANGED,function(){S.isZoomedOnce=!1}),T.bind(x.events.ZOOM_CHANGE,function(){S.isZoomedOnce=!0})}var y,w,T,x=new UGSlider,E=new UGFunctions,I={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},S={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==S.objImage||0==S.objImage.length)return!1;if(0==S.isZoomedOnce)return!1;if(0==r(S.objImage,e))return!1;if(0==x.isInnerInPlace())return!1;if("left"==t){if(S.objImageSize.right<=S.objParentSize.width)return!1}else if(S.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,o,a){r=null,s=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+o+";' data-video-width='"+n+"' data-video-height='"+o+"'>&nbsp;</div>";jQuery("#"+e).html(u),r=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:o,container:l,autoPlay:a}),s=!0,i()}function i(){r.bind("play",function(){a.trigger(o.events.START_PLAYING)}),r.bind("pause",function(){a.trigger(o.events.STOP_PLAYING)}),r.bind("end",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==r)return!1;if(0==s)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!s||!r)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,a,s){r=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var d="<iframe id='"+l+"' src="+(u+=!0===s?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+n+"' height='"+a+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),(r=SC.Widget(l)).bind(SC.Widget.Events.READY,function(){r&&(g_isPlayerReady=!0,i())}),o=e}function i(){r.bind(SC.Widget.Events.PLAY,function(){s.trigger(a.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){s.trigger(a.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){s.trigger(a.events.STOP_PLAYING),s.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o,a=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,r=null,o&&(jQuery("#"+o).html(""),o=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,o,a){r=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",d="";a&&!0===a&&(d="autoplay='autoplay'");var c="";t.posterImage&&(c="poster='"+t.posterImage+"'");var g="<video id='"+u+"' width='"+n+"' height='"+o+"'  controls='controls' preload='none' "+d+" "+c+">";""!=t.mp4&&(g+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(g+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(g+="<source type='video/ogg' src='"+t.ogv+"' />"),g+="<object width='"+n+"' height='"+o+"' type='application/x-shockwave-flash' data='"+s+"'>",g+="<param name='movie' value='"+s+"' />",g+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",g+="</object>",g+="</video>",jQuery("#"+e).html(g),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,r=e,0==a&&r.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(r,"play",function(){a.trigger(o.events.START_PLAYING)}),g_ugFunctions.addEvent(r,"pause",function(){a.trigger(o.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,"ended",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,o,a){s=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===a&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+n+"' height='"+o+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var c=jQuery("#"+e+" iframe")[0];(s=Froogaloop(c)).addEvent("ready",function(){s&&(l=!0,i())}),r=e}function i(){return!!s&&(s.addEvent("cuechange",function(){1==u&&o.play()}),s.addEvent("play",function(){a.trigger(o.events.START_PLAYING)}),s.addEvent("pause",function(){a.trigger(o.events.STOP_PLAYING)}),void s.addEvent("finish",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=s&&(0!=l&&void s.api(e))},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,l=!1),r&&jQuery("#"+r).html("")},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!l||!s)},this.changeVideo=function(e,t){return 0!=o.isPlayerReady()&&(u=t,void s.api("loadVideo",e))},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,r,a,u){s&&l&&s.destroy();var d={controls:2,showinfo:c.video_youtube_showinfo,rel:0};!0===u&&(d.autoplay=1),l=!1,s=new YT.Player(e,{height:a,width:r,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),o=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function i(){l=!0}function n(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(a.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(a.events.STOP_PLAYING),u.trigger(a.events.VIDEO_ENDED);break;default:d==YT.PlayerState.PLAYING&&u.trigger(a.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,o,a=this,s=null,l=!1,u=jQuery(this),d=-1,c={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){c=jQuery.extend(c,e)},this.putVideo=function(i,n,o,a,s){return t()?(e(i,n,o,a,s),!0):(this.loadAPI(),void(r=setInterval(function(){t()&&(e(i,n,o,a,s),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){a.doCommand("play")},this.pause=function(){a.doCommand("pause")},this.destroy=function(){try{s&&(l=!1,s.clearVideo(),s.destroy())}catch(e){jQuery("#"+o).html("")}},this.stopToBeginning=function(){a.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=a.isPlayerReady()&&void(t&&1==t?s.loadVideoById(e,0,"large"):s.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!l||!s)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){p.hide()}function t(){_.trigger(p.events.PLAY_START),c&&c.hide()}function i(){_.trigger(p.events.PLAY_STOP),c&&c.show()}function n(){_.trigger(p.events.VIDEO_ENDED)}function r(){c&&(f.setButtonMobileReady(c),f.setButtonOnClick(c,e)),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(m).on(m.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,i),jQuery(w).on(w.events.VIDEO_ENDED,n)}function o(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":m.pause(),m.destroy(),l.hide();break;case"vimeo":v.pause(),v.destroy(),u.hide();break;case"html5":b.pause(),d.hide();break;case"soundcloud":y.pause(),y.destroy(),g.hide();break;case"wistia":w.pause(),h.hide()}}}var a,s,l,u,d,c,g,h,p=this,_=jQuery(this),f=new UGFunctions,m=new UGYoutubeAPI,v=new UGVimeoAPI,b=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,w=new UGWistiaAPI,T=null,x={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var E={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(a=i))throw new Error("missing gallery ID for video player, it's a must!");x=jQuery.extend(x,e),m.setOptions(x),t&&1==t&&(E.standAloneMode=!0)},this.setHtml=function(e){E.youtubeInnerID=a+"_youtube_inner",E.vimeoPlayerID=a+"_videoplayer_vimeo",E.html5PlayerID=a+"_videoplayer_html5",E.wistiaPlayerID=a+"_videoplayer_wistia",E.soundCloudPlayerID=a+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+E.youtubeInnerID+"'></div></div>",t+="<div id='"+E.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+E.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+E.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+E.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==E.standAloneMode&&1==x.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),s=e.children(".ug-videoplayer"),l=s.children(".ug-videoplayer-youtube"),u=s.children(".ug-videoplayer-vimeo"),d=s.children(".ug-videoplayer-html5"),g=s.children(".ug-videoplayer-soundcloud"),h=s.children(".ug-videoplayer-wistia"),0==E.standAloneMode&&1==x.video_enable_closebutton&&(c=s.children(".ug-videoplayer-button-close"))},this.destroy=function(){c&&(c.off("click"),c.off("touchend")),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,i),T=null},this.initEvents=function(){r()},this.setSize=function(e,t){f.setElementSize(s,e,t),c&&f.placeElement(c,"right","top")},this.setPosition=function(e,t){f.placeElement(s,e,t)},this.getObject=function(){return s},this.show=function(){return 1==p.isVisible()||(s.show(),s.fadeTo(0,1),c&&c.show(),void _.trigger(p.events.SHOW))},this.hide=function(){return 0==p.isVisible()||(o(),T=null,s.hide(),void _.trigger(p.events.HIDE))},this.getActiveAPI=function(){switch(T){case"youtube":return m;case"vimeo":return v;case"wistia":return w;case"soundcloud":return y;case"html5":return b;default:return null}},this.pause=function(){var e=p.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return s.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)var t=!0;o("youtube"),l.show(),0==l.children("#"+E.youtubeInnerID).length&&l.append("<div id='"+E.youtubeInnerID+"'></div>"),1==m.isPlayerReady()&&1==E.standAloneMode?m.changeVideo(e,t):m.putVideo(E.youtubeInnerID,e,"100%","100%",t),T="youtube"},this.playVimeo=function(e,t){if(void 0===t)var t=!0;o("vimeo"),u.show(),v.putVideo(E.vimeoPlayerID,e,"100%","100%",t),T="vimeo"},this.playHtml5Video=function(e,t,i,n,r){if(void 0===r)var r=!0;o("html5"),d.show();var a={ogv:e,webm:t,mp4:i,posterImage:n};b.putVideo(E.html5PlayerID,a,"100%","100%",r),T="html5"},this.playSoundCloud=function(e,t){if(void 0===t)var t=!0;o("soundcloud"),g.show(),y.putSound(E.soundCloudPlayerID,e,"100%","100%",t),T="soundcloud"},this.playWistia=function(e,t){if(void 0===t)var t=!0;o("wistia"),h.show(),w.putVideo(E.wistiaPlayerID,e,"100%","100%",t),T="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){try{"jquery"==t?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(r){var i=r.message;if(i="Unite Gallery Error: "+i,i="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+i+"</div>","jquery"==t){var n=document.getElementById(e);n.innerHTML=i,n.style.display="block"}else jQuery(e).show().html(i);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),(g_objTheme=new g_options.gallery_theme).init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(a=g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore).init(t,g_options),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)var t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=t+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var i=e.width/e.orig_ratio;(i=Math.round(i))<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var t=g_functions.getCssSizeParam(g_options.gallery_height);e.height=t}else e.overflow="visible";g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemByChild(e){var i=t.isMobileMode(),n="";if("a"==(r=e.prop("tagName").toLowerCase())){n=e.attr("href");var r=(e=e.children()).prop("tagName").toLowerCase()}var o=e.data("type");void 0==o&&(o="image");var a={};if(a.type=o,"img"==r){var s=e.data("lazyload-src");s&&""!=s&&(e.attr("src",s),jQuery.removeData(e,"lazyload-src"));var l=e.data("image"),u=e.data("thumb");void 0===l&&(l=null),void 0===u&&(u=null);var d=e.attr("src");l||(l=d),u||(u=d),u||(u=l),l||(l=u),a.urlThumb=u,a.urlImage=l,a.title=e.attr("alt"),a.objThumbImage=e,a.objThumbImage.attr("src",a.urlThumb)}else{if("image"==o)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");a.urlThumb=e.data("thumb"),a.title=e.data("title"),a.objThumbImage=null,a.urlImage=e.data("image")}if(1==i){var c=e.data("thumb-mobile");void 0!==c&&""!=c&&(a.urlThumb=c,"img"==r&&e.attr("src",a.urlThumb));var g=e.data("image-mobile");void 0!==g&&""!=g&&(a.urlImage=g)}a.link=n,a.description=e.attr("title"),a.description||(a.description=e.data("description")),a.description||(a.description=""),a.isNewAdded=!1,a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0,a.thumbWidth=0,a.thumbHeight=0,a.thumbRatioByWidth=0,a.thumbRatioByHeight=0;var h=e.data("width"),p=e.data("height");h&&"number"==typeof h&&p&&"number"==typeof p&&(a.thumbWidth=h,a.thumbHeight=p,a.thumbRatioByWidth=h/p,a.thumbRatioByHeight=p/h),a.addHtml=null;var _=void 0==a.urlImage||""==a.urlImage,f=void 0==a.urlThumb||""==a.urlThumb;switch(a.type){case"youtube":if(a.videoid=e.data("videoid"),_||f){var m=g_ugYoutubeAPI.getVideoImages(a.videoid);_&&(a.urlImage=m.preview),f&&(a.urlThumb=m.thumb,"img"==r&&e.attr("src",a.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":a.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":a.videoogv=e.data("videoogv"),a.videowebm=e.data("videowebm"),a.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":a.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":a.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var v=e.children("img");v.length&&(v=jQuery(v[0]),a.urlThumb=v.attr("src"),a.title=v.attr("alt"),a.objThumbImage=v);var b=e.children().not("img:first-child");b.length&&(a.addHtml=b.clone())}return a.objThumbImage&&(a.objThumbImage.removeAttr("data-description",""),a.objThumbImage.removeAttr("data-image",""),a.objThumbImage.removeAttr("data-thumb",""),a.objThumbImage.removeAttr("title","")),a}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(i=0;g_numItems>i;i++)g_arrItems[i].isNewAdded=!1;for(var i=0;i<e.length;i++){var n=fillItemByChild(jQuery(e[i]));numIndex=g_arrItems.length,n.index=numIndex,!0===t&&(n.isNewAdded=!0),g_arrItems.push(n)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||void 0==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),g_numItems>n&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;if(t.setSizeClass(),(e=t.getSize()).width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}"advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider&&(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover&&(g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)),1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t)"noitems"!=(i=t)&&(i=jQuery(t).clone());else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimeLastStep=e,0==t.isGalleryVisible())return!1;if(g_temp.playTimePassed+=i,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),i>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(i>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress&&g_temp.objProgress.getElement().hide(),g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&0>e||(0>e&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i)var n=t.getSize(),i=n.width;if(0==i)i=jQuery(window).width();var r="";return 480>=i?r="ug-under-480":780>=i?r="ug-under-780":960>i&&(r="ug-under-960"),1==e.hasClass(r)||(removeAllSizeClasses(e),void(""!=r&&e.addClass(r)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||480>=e},this.isGalleryVisible=function(){return g_objWrapper.is(":visible")},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");if(0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),(t=g_objWrapper.children(".ug-newitems-wrapper")).append(e),fillItemsArray(jQuery(t.children()),!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var e=[];return jQuery.each(g_arrItems,function(t,i){1==i.isNewAdded&&e.push(t)}),e},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var r=g_options.gallery_urlajax;if(!r||""==r)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)var t={};var o={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:o,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");return 0==e.success?(showErrorMessage(e.message,"ajax error"),!1):void i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t),responseText=e.responseText,n&&"function"==typeof n?n(responseText):trace(responseText)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,r=e.fileName;e.stack,i+=" <br><br> in file: "+r,i+=" <b> line "+n+"</b>",trace(e)}else i=e;showErrorMessage(i=i.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,U=jQuery(e),ae=jQuery.extend(ae,le),ae=jQuery.extend(ae,i),se.originalOptions=jQuery.extend({},ae),"compact"==ae.lightbox_type&&(se.isCompact=!0,ae=jQuery.extend(ae,ue),ae=jQuery.extend(ae,i)),t(),1==se.putSlider?(ie.initSlider(ae,"lightbox"),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==ae.lightbox_show_textpanel?oe.init(ie,ae,"lightbox"):oe=null}function t(){1==se.isCompact&&1==ae.lightbox_show_textpanel&&(ae.lightbox_slider_image_padding_bottom=se.initTextPanelHeight),1==se.isCompact&&"inside"==ae.lightbox_arrows_position&&(se.isArrowsInside=!0),1==se.isArrowsInside&&0==ae.lightbox_arrows_inside_alwayson&&(se.isArrowsOnHoverMode=!0),0==ae.lightbox_show_textpanel&&(se.isTopPanelEnabled=!1,se.topPanelHeight=0,ae.lightbox_slider_image_padding_top=0)}function i(){var e="",t="";1==se.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==se.isCompact&&se.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",V=jQuery(e),jQuery("body").append(V),ne&&ne.setHtml(V),q=V.children(".ug-lightbox-overlay"),0==se.isCompact&&1==se.isTopPanelEnabled&&0==(J=V.children(".ug-lightbox-top-panel")).length&&(J=null),$=V.find(".ug-lightbox-button-close"),ae.lightbox_show_numbers&&(K=V.find(".ug-lightbox-numbers")),X=V.children(".ug-lightbox-arrow-left"),Z=V.children(".ug-lightbox-arrow-right"),oe&&(J?oe.appendHTML(J):oe.appendHTML(V))}function n(){if(null!==ae.lightbox_overlay_color&&q.css("background-color",ae.lightbox_overlay_color),null!==ae.lightbox_overlay_opacity&&q.fadeTo(0,ae.lightbox_overlay_opacity),J&&null!==ae.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ae.lightbox_top_panel_opacity),K){var e={};null!==ae.lightbox_numbers_size&&(e["font-size"]=ae.lightbox_numbers_size+"px"),ae.lightbox_numbers_color&&(e.color=ae.lightbox_numbers_color),null!==ae.lightbox_numbers_padding_right&&(e["padding-right"]=ae.lightbox_numbers_padding_right+"px"),null!==ae.lightbox_numbers_padding_top&&(e["padding-top"]=ae.lightbox_numbers_padding_top+"px"),K.css(e)}}function r(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function o(e){if(!J)return!1;if(!oe)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var i=t,n=oe.getSize().height;t!=se.topPanelHeight&&(i=se.topPanelHeight),n>i&&(i=n),t!=i&&(J.height(i),ne&&0==ne.isAnimating()&&r(i))}function a(e){var t={},i=ae.lightbox_textpanel_width;i>e.width-47-40?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",ae.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=ae.lightbox_textpanel_desc_text_align),ae.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=ae.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),o("positionTextPanelWide"),oe.positionPanel()}function s(){return!!J&&void J.hide()}function l(){return!!J&&void J.show()}function u(e){if(0==se.isOpened)return!1;if(!oe)return!1;if(!ne)return!1;var t=re.getElementSize(V),i=oe.getSize();if(0==i.width||i.height>120)return!1;if(!e)var n=ne.getSlideImage(),e=re.getElementSize(n);if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var r=ne.getOptions(),o=i.height;if(o!=r.slider_image_padding_bottom){var a={slider_image_padding_bottom:o};if(0==ne.isAnimating())return ne.setOptions(a),ne.refreshSlideItems(),!0}return!1}function d(e,t){if(!e)var i=ne.getSlideImage(),e=re.getElementSize(i);se.textPanelTop=e.bottom,!0===t&&oe.positionPanel(se.textPanelTop,se.textPanelLeft)}function c(e){var t=(re.getElementSize(V),ne.getSlideImage()),i=re.getElementSize(t);if(0==i.width)return!1;se.textPanelLeft=i.left,se.textPanelTop=i.bottom;var n=i.width;if(K){var r=re.getElementSize(K);n-=r.width;var o=i.right-r.width;re.placeElement(K,o,se.textPanelTop)}oe&&(oe.show(),oe.refresh(!0,!0,n),d(i)),0==u(i)&&(se.positionFrom="handleCompactTextpanelSizes",oe&&(oe.positionPanel(se.textPanelTop,se.textPanelLeft),!0===e&&(e(),j())))}function g(){return 0==ne.isCurrentSlideType("image")||1==ne.isCurrentImageInPlace()}function h(e,t){if(0==se.isArrowsInside)return!1;if(!X)return!1;var i=g();if(X.show(),Z.show(),se.positionFrom="positionArrowsInside",1==se.isArrowsOnHoverMode&&1==i&&0==y()&&w(!0),0==i)var n=re.getElementRelativePos(X,"left",ae.lightbox_arrows_offset),r=re.getElementRelativePos(X,"middle"),o=re.getElementRelativePos(Z,"right",ae.lightbox_arrows_offset),a=r;else var s=ne.getSlideImage(),l=re.getElementSize(s),n=(re.getElementSize(ne.getElement()),re.getElementRelativePos(X,"left",0,s)+l.left+ae.lightbox_arrows_inside_offset),r=re.getElementRelativePos(X,"middle",0,s)+l.top,o=re.getElementRelativePos(X,"right",0,s)+l.left-ae.lightbox_arrows_inside_offset,a=r;if(!0===t){var u={left:n,top:r},d={left:o,top:a};X.stop().animate(u,{duration:se.fadeDuration}),Z.stop().animate(d,{duration:se.fadeDuration})}else X.stop(),Z.stop(),re.placeElement(X,n,r),re.placeElement(Z,o,a);1==e&&x(t)}function p(e,t){se.positionFrom=null;var i=g(),n=re.getElementRelativePos($,"right",2,V);if(0==i)var r=2,o=n;else{var a=ne.getSlideImage(),s=re.getElementSize(a),l=re.getElementSize(ne.getElement()),u=re.getElementSize($);l.top==l.height&&(l.top=0);o=l.left+s.right-u.width/2+ae.lightbox_compact_closebutton_offsetx;2>(r=l.top+s.top-u.height/2-ae.lightbox_compact_closebutton_offsety)&&(r=2),o>n&&(o=n)}if(!0===t){var d={left:o,top:r};$.stop().animate(d,{duration:se.fadeDuration})}else $.stop(),re.placeElement($,o,r);!0===e&&E(t)}function _(){$&&$.stop().fadeTo(se.fadeDuration,0),v(),b(),se.positionFrom="hideCompactElements",1==se.isArrowsInside&&w()}function f(){$&&$.hide(),X&&1==se.isArrowsInside&&(X.hide(),Z.hide()),K&&K.hide(),oe&&oe.hide()}function m(){var e=re.getElementSize(V);J&&re.setElementSizeAndPosition(J,0,0,e.width,se.topPanelHeight),X&&0==se.isArrowsInside&&(1==ae.lightbox_hide_arrows_onvideoplay&&(X.show(),Z.show()),re.placeElement(X,"left","middle",ae.lightbox_arrows_offset),re.placeElement(Z,"right","middle",ae.lightbox_arrows_offset)),0==se.isCompact&&re.placeElement($,"right","top",2,2),oe&&(se.positionFrom="positionElements",0==se.isCompact?a(e):(P(),j()));var t=e.width,i=e.height;if(ne){if(J){var n={slider_image_padding_top:J.height()};ne.setOptions(n)}ne.setSize(t,i),ne.setPosition(0,0)}}function v(){oe&&oe.getElement().stop().fadeTo(se.fadeDuration,0)}function b(){K&&K.stop().fadeTo(se.fadeDuration,0)}function y(){if(!se.lastMouseX)return!0;var e={pageX:se.lastMouseX,pageY:se.lastMouseY};return ne.isMouseInsideSlideImage(e)}function w(e,t){return!!X&&(1==se.isArrowsOnHoverMode&&!1===t?(y(),!0):void(!0===e?(X.stop().fadeTo(0,0),Z.stop().fadeTo(0,0)):(X.stop().fadeTo(se.fadeDuration,0),Z.stop().fadeTo(se.fadeDuration,0))))}function T(){return!X||(0==X.is(":visible")||1!=X.css("opacity"))}function x(e,t){return!!X&&(1==se.isArrowsOnHoverMode&&!0!==t&&1==g()||(1==ne.isSwiping()||(!0!==e&&(X.stop(),Z.stop()),X.fadeTo(se.fadeDuration,1),void Z.fadeTo(se.fadeDuration,1))))}function E(e){!0!==e&&$.stop(),$.fadeTo(se.fadeDuration,1)}function I(e){if(!oe)return!1;if(!e)var e=ne.getCurrentItem();oe.setTextPlain(e.title,e.description)}function S(e){if(!K)return!1;if(!e)var e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;K.html(i+" / "+t)}function P(){return!!oe&&void oe.getElement().show().stop().fadeTo(se.fadeDuration,1)}function j(){K&&K.stop().fadeTo(se.fadeDuration,1)}function C(){return 0==se.isCompact||void _()}function A(){if(0==se.isCompact)return!0;se.positionFrom="onZoomChange",p(!1,!0),h(!1,!0),1==se.isCompact&&(0==(ne.isCurrentSlideType("image")&&1==ne.isCurrentImageInPlace())?(v(),b()):(se.positionFrom="onZoomChange",P(),j()))}function M(){if(0==se.isCompact)return!0;se.positionFrom="onSliderAfterReturn",p(!0),h(!0),0==u()&&c(),P(),j()}function O(e,t){return t=jQuery(t),0==se.isCompact||(0==ne.isSlideCurrent(t)||(se.positionFrom="onSliderAfterPutImage",p(!0),h(!0),void c()))}function N(){var e=ne.getOptions().slider_image_padding_top;if(J){var t=J.height();t!=e&&r(t)}1==se.isCompact&&(I(),S(),se.positionFrom="onSliderTransitionEnd",p(!0),h(!0),0==ne.isSlideActionActive()&&0==u()&&c(),P(),j())}function k(e,t){0==se.isCompact?(K&&S(t),oe&&(I(t),0==se.isRightNowOpened&&(oe.positionElements(!1),o("onchange"),oe.positionPanel()))):0==ne.isAnimating()&&(oe&&I(t),K&&S(t)),0==se.isSliderChangedOnce&&(se.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function L(e,t){return!("image"==ne.getSlideType()||0!=se.isCompact||!ne.isSlideActionActive())||(1==ne.isPreloading()?(ee.close("slider"),!0):void(1==ae.lightbox_close_on_emptyspace&&0==ne.isMouseInsideSlideImage(t)&&ee.close("slider_inside")))}function H(){m()}function z(){J?s():K&&K.hide(),X&&1==ae.lightbox_hide_arrows_onvideoplay&&(X.hide(),Z.hide())}function D(){J?(l(),o("onStopVideo")):K&&K.show(),X&&1==ae.lightbox_hide_arrows_onvideoplay&&(X.show(),Z.show())}function R(e,t,i){var n=!1;switch(t){case 27:1==se.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==se.isOpened&&1==n&&i.preventDefault()}function G(){1==se.isArrowsOnHoverMode&&x(!1,!0)}function Q(e){se.positionFrom="hideCompactElements",1==se.isArrowsOnHoverMode&&1==g()&&w(!1,!0)}function W(e){se.lastMouseX=e.pageX,se.lastMouseY=e.pageY,1==T()&&y()&&0==ne.isAnimating()&&(se.positionFrom="onMouseMove",X&&0==X.is(":animated")&&x(!1,!0))}function F(e,t,i,n){if(0==se.isOpened)return!0;switch(ae.gallery_mousewheel_role){default:case"zoom":"image"!=ne.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ie.onGalleryMouseWheel(e,t,i,n)}}function B(){if(q.on("touchstart",function(e){e.preventDefault()}),q.on("touchend",function(e){ee.close("overlay")}),re.addClassOnHover(Z,"ug-arrow-hover"),re.addClassOnHover(X,"ug-arrow-hover"),re.addClassOnHover($),ie.setNextButton(Z),ie.setPrevButton(X),$.click(function(){ee.close("button")}),U.on(ie.events.ITEM_CHANGE,k),ne){jQuery(ne).on(ne.events.TRANSITION_END,N),jQuery(ne).on(ne.events.CLICK,L);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,z),jQuery(e).on(e.events.PLAY_STOP,D),jQuery(ne).on(ne.events.START_DRAG,C),jQuery(ne).on(ne.events.TRANSITION_START,C),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,M),jQuery(ne).on(ne.events.AFTER_RETURN,M),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,O),jQuery(ne).on(ne.events.ZOOM_CHANGE,A),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,G),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q)}jQuery(window).resize(function(){return 0==se.isOpened||void re.whenContiniousEventOver("lightbox_resize",H,100)}),U.on(ie.events.GALLERY_KEYPRESS,R),1==se.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",W),V.on("mousewheel",F)}function Y(){se.isCompact=!1,t(),se.isArrowsInside=!1,se.isArrowsOnHoverMode=!1,(ae=jQuery.extend({},se.originalOptions)).lightbox_arrows_position="sides",ne.setOptions(ae)}var U,V,q,X,Z,$,K,J,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,re=new UGFunctions,oe=new UGTextPanel,ae={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var se={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:se.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),q.off("touchstart"),q.off("touchend"),$.off("click"),U.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,G),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,Q),ne.destroy()}jQuery(window).unbind("resize"),U.off(ie.events.GALLERY_KEYPRESS,R),V.off("mousewheel"),V.remove()},this.open=function(e){var t=ie.getItem(e);se.isOpened=!0,se.isRightNowOpened=!0,setTimeout(function(){se.isRightNowOpened=!1},100),ne&&ne.setItem(t,"lightbox_open"),oe&&oe.setTextPlain(t.title,t.description),q.stop().fadeTo(0,0),V.show(),V.fadeTo(0,1),q.stop().fadeTo(se.fadeDuration,ae.lightbox_overlay_opacity),m(),1==se.isCompact&&(1==ne.isPreloading()?f():1==se.isArrowsInside&&(X.hide(),Z.hide())),ne&&ne.startSlideAction(),U.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){se.isOpened=!1,1==se.isCompact&&_(),ne&&ne.stopSlideAction(),"image"!=ne.getSlideType()?V.hide():V.fadeTo(se.fadeDuration,0,function(){V.hide()}),U.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){ie.isSmallWindow()&&1==se.isCompact&&Y(),i()},this.run=function(){n(),ne&&ne.run(),B()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),W=e,L=jQuery(e),H=g_objects.g_objWrapper,z=g_objects.g_arrItems,U=jQuery.extend(U,t),B.setFixedMode(),B.setApproveClickFunction(k),B.init(e,U),Y=B.getObjThumbs(),U=B.getOptions(),V.initTileWidth=U.tile_width,V.initTileHeight=U.tile_height,V.tileWidth=U.tile_width}function t(e){if(!e)var e=H;H.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),D=H.children(".ug-carousel-wrapper"),R=D.children(".ug-carousel-inner"),B.setHtml(R),Y.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)var t=V.initTileHeight/V.initTileWidth*e;V.tileWidth=e;var i={tile_width:e,tile_height:t};B.setOptions(i),U.tile_width=e,U.tile_height=t,B.resizeAllTiles(e),m(!0)}function n(){if(null===V.carouselMaxWidth)throw new Error("The carousel width not set");if(V.tileWidth<V.initTileWidth){(t=V.carouselMaxWidth-2*U.carousel_padding)>V.initTileWidth&&(t=V.initTileWidth),i(t);var e=F.getNumItemsInSpace(V.carouselMaxWidth,t,U.carousel_space_between_tiles)}else if(0>=(e=F.getNumItemsInSpace(V.carouselMaxWidth,V.tileWidth,U.carousel_space_between_tiles))){e=1;var t=V.carouselMaxWidth-2*U.carousel_padding;i(t)}var n=F.getSpaceByNumItems(e,V.tileWidth,U.carousel_space_between_tiles);n+=2*U.carousel_padding,D.width(n),1==V.isFirstTimeRun?(N(),B.run(),jQuery.each(z,function(e,t){t.objThumbWrapper.data("index",e),H.trigger(V.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),m(!0),1==U.carousel_autoplay&&G.startAutoplay()):(1==U.carousel_autoplay&&G.pauseAutoplay(),T(0,!1),1==U.carousel_autoplay&&G.startAutoplay()),S(),V.isFirstTimeRun=!1}function r(){return F.getElementSize(R).left}function o(e){return F.getMousePosition(e).pageX}function a(){return R.children(".ug-thumb-wrapper")}function s(e){return F.getNumItemsInSpace(e,V.tileWidth,U.carousel_space_between_tiles)}function l(){return a().length}function u(e){v(e);var t=a();return jQuery(t[e])}function d(){return R.children(".ug-thumb-wrapper").first()}function c(){return R.children(".ug-thumb-wrapper").last()}function g(e,t,i){var n=e.data("index");if(void 0==n)throw new Error("every tile should have index!");for(var r=[],o=0;t>o;o++){if("prev"==i)a=W.getPrevItem(n,!0);else var a=W.getNextItem(n,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);n=a.index,s.addClass("cloned"),r.push(s)}return r}function h(){var e=F.getElementSize(D),t=F.getElementSize(R),i=t.width-e.width+t.left;return V.sideSpace-i}function p(){var e=-r();return V.sideSpace-e}function _(){return F.getElementSize(D).width}function f(){return s(_())}function m(e){if(!e)var e=!1;var t,i=a(),n=0,r=0;return jQuery.each(i,function(e,o){o=jQuery(o),F.placeElement(o,n,0);var a=F.getElementSize(o);n+=a.width+U.carousel_space_between_tiles,r=Math.max(r,a.height),e==i.length-1&&(t=a.right)}),R.width(t),r+=2*U.carousel_padding,!0===e&&(R.height(r),D.height(r)),T(V.numCurrent,!1),t}function v(e){if(e>a().length-1)throw new Error("Wrogn tile number: "+e)}function b(e,t){if("left"==t)i=d();else var i=c();var n=g(i,e,"left"==t?"prev":"next");jQuery.each(n,function(e,i){"left"==t?R.prepend(i):R.append(i),H.trigger(V.eventSizeChange,i),B.loadTileImage(i)})}function y(e,t){v(n);for(var i=a(),n=i.length,r=0;e>r;r++)"left"==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function w(e){var t={left:e+"px"};R.css(t)}function T(e,t,i){if(void 0===t){var t=!0;if(R.is(":animated"))return!0}var n=u(e),r={left:-F.getElementSize(n).left+U.carousel_padding+"px"};if(!0===t){var o=U.carousel_scroll_duration,a=U.carousel_scroll_easing;!0===i&&(o=V.scrollShortDuration,a=V.scrollShortEasing),R.stop(!0).animate(r,{duration:o,easing:a,queue:!1,complete:function(){V.numCurrent=e,I(!0)}})}else V.numCurrent=e,R.css(r)}function x(){var e=-r(),t=s(e),i=F.getElementSize(u(t)).left,n=F.getElementSize(u(t+1)).left;return Math.abs(i-e)<Math.abs(n-e)?t:t+1}function E(){T(x(),!0,!0)}function I(){var e=p(),t=h(),i=0,n=0,r=0,o=0,a=l();if(e>V.spaceActionSize?(i=s(e),b(i,"left"),V.numCurrent+=i):e<-V.spaceActionSize&&(y(r=s(Math.abs(e)),"left"),V.numCurrent-=r),t>V.spaceActionSize?(n=s(t),b(n,"right")):t<-V.spaceActionSize&&(o=s(Math.abs(t)),y(o,"right")),o>a)throw new Error("Can't remove more then num tiles");var u=!1;return(i||n||r||o)&&(m(),u=!0),u}function S(e){F.placeElement(R,0,U.carousel_padding),I()}function P(){"left"==U.carousel_autoplay_direction?G.scrollRight(1):G.scrollLeft(1)}function j(e){return 1==V.touchActive||(V.touchActive=!0,G.pauseAutoplay(),V.startTime=jQuery.now(),V.startMousePos=o(e),V.startInnerPos=r(),V.lastTime=V.startTime,V.lastMousePos=V.startMousePos,void F.storeEventData(e,V.storedEventID))}function C(e){if(0==V.touchActive)return!0;F.updateStoredEventData(e,V.storedEventID),e.preventDefault();var t=null;if(1==U.carousel_vertical_scroll_ondrag&&(t=F.handleScrollTop(V.storedEventID)),"vert"===t)return!0;V.lastMousePos=o(e);var i=V.lastMousePos-V.startMousePos,n=V.startInnerPos+i,r=i>0?"prev":"next",a=F.getElementSize(R).width;n>0&&"prev"==r&&(n/=3),-a>n&&"next"==r&&(n=V.startInnerPos+i/3),w(n)}function A(e){return 0==V.touchActive||(V.touchActive=!1,E(),void G.unpauseAutoplay())}function M(e){return 0==U.carousel_autoplay_pause_onhover||void(1==V.isPlayMode&&0==V.isPaused&&G.pauseAutoplay())}function O(e){return 0==U.carousel_autoplay_pause_onhover||void G.unpauseAutoplay()}function N(){B.initEvents(),D.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",C),jQuery(window).add("body").bind("mouseup touchend",A),D.hover(M,O)}function k(){var e=V.lastTime-V.startTime,t=Math.abs(V.lastMousePos-V.startMousePos);return!(e>300)&&!(t>30)}var L,H,z,D,R,G=this,Q=jQuery(this),W=new UniteGalleryMain,F=new UGFunctions,B=new UGTileDesign,Y=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var V={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){V.isPlayMode=!0,V.isPaused=!1,Q.trigger(G.events.START_PLAY),V.handle&&clearInterval(V.handle),V.handle=setInterval(P,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==V.isPlayMode||(0==V.isPaused||void G.startAutoplay())},this.pauseAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!0,V.handle&&clearInterval(V.handle),void Q.trigger(G.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==V.isPlayMode||(V.isPaused=!1,V.isPlayMode=!1,V.handle&&clearInterval(V.handle),void Q.trigger(G.events.STOP_PLAY))},this.destroy=function(){V.handle&&clearInterval(V.handle),Q.off(G.events.START_PLAY),Q.off(G.events.STOP_PLAY),D.unbind("mousedown"),D.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),D.off("mouseenter").off("mouseleave"),B.destroy()},this.init=function(t,i,n){n&&this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){V.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return D},this.getObjTileDesign=function(){return B},this.getEstimatedHeight=function(){return U.tile_height+2*U.carousel_padding},this.run=function(){n()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=f();e>t&&(e=t);var i=V.numCurrent-e;0>=i&&(i=0),T(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=f();e>t&&(e=t);var i=l(),n=V.numCurrent+e;n>=i&&(n=i-1),T(n)},this.setScrollLeftButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,G.scrollLeft)},this.setScrollRightButton=function(e){F.setButtonMobileReady(e),F.setButtonOnClick(e,G.scrollRight)},this.setPlayPauseButton=function(e){F.setButtonMobileReady(e),1==V.isPlayMode&&0==V.isPaused&&e.addClass("ug-pause-icon"),Q.on(G.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),Q.on(G.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),F.setButtonOnClick(e,function(){0==V.isPlayMode||1==V.isPaused?G.startAutoplay():G.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,a=jQuery(u),"select"==(d=jQuery.extend(d,t)).tabs_type?l=jQuery(d.tabs_container):s=jQuery(d.tabs_container+" .ug-tab")}function t(){o()}function i(e){u.requestNewItems(e)}function n(){var e=d.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;s.not(t).removeClass(e),t.addClass(e);var n=t.data("catid");return!n||void i(n)}function r(){var e=jQuery(this).val();return!e||void i(e)}function o(){"select"==d.tabs_type?l.change(r):s.click(n)}var a,s,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),s&&s.off("click")},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,r=(jQuery(n),new UniteGalleryMain),o=[];r=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,a,s){switch(!0!==s&&o.push({event:e,func:a}),e){case"item_change":i.on(r.events.ITEM_CHANGE,function(){var e=t(r.getSelectedItem());a(e.index,e)});break;case"resize":i.on(r.events.SIZE_CHANGE,a);break;case"enter_fullscreen":i.on(r.events.ENTER_FULLSCREEN,a);break;case"exit_fullscreen":i.on(r.events.EXIT_FULLSCREEN,a);break;case"play":i.on(r.events.START_PLAY,a);break;case"stop":i.on(r.events.STOP_PLAY,a);break;case"pause":i.on(r.events.PAUSE_PLAYING,a);break;case"continue":i.on(r.events.CONTINUE_PLAYING,a);break;case"open_lightbox":i.on(r.events.OPEN_LIGHTBOX,a);break;case"close_lightbox":i.on(r.events.CLOSE_LIGHTBOX,a);break;default:console&&console.log("wrong api event: "+e)}i.trigger(n.events.API_ON_EVENT,[e,a])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=r.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=r.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){return t(r.getItem(e))},this.getNumItems=function(){return r.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};r.run(null,e),o.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){r.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}function UGLoadMore(){function e(){return 0!=(o=jQuery("#"+c.loadmore_container)).length&&0!=(a=o.find(".ug-loadmore-button")).length&&0!=(s=o.find(".ug-loadmore-loader")).length&&0!=(l=o.find(".ug-loadmore-error")).length&&void(d.isInited=!0)}function t(){o.show()}function i(){a.hide(),s.show();var e={numitems:u.getNumItems()};u.ajaxRequest("front_loadmore",e,function(e){s.hide();var t=e.html_items;1==e.show_loadmore?(a.blur().show(),s.hide()):o.hide(),u.addItems(t)},function(e){e="Ajax Error!"+e,s.hide(),l.show(),l.html(e)})}function n(){u.onEvent("tiles_first_placed",t),a.click(i)}var r,o,a,s,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{isInited:!1}),c={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){return 0!=d.isInited&&void 0},this.init=function(t,i){return u=t,r=jQuery(u),c=jQuery.extend(c,i),e(),0==d.isInited?(trace("load more not inited, something is wrong"),!1):void n()}}function UGTheme_default(){function e(e,t){C=e,M=jQuery.extend(M,O),M=jQuery.extend(M,t),M=jQuery.extend(M,N),i(),C.setOptions(M),1==M.theme_load_panel&&(P=new UGStripPanel).init(e,M),1==M.theme_load_slider&&C.initSlider(M),y=e.getObjects(),b=jQuery(e),w=y.g_objWrapper,1==M.theme_load_slider&&(I=y.g_objSlider),1==M.theme_enable_text_panel&&(j=new UGTextPanel).init(C,M,"slider")}function t(){n(),r(),v()}function i(){switch(M=jQuery.extend({slider_textpanel_css_title:{},slider_textpanel_css_description:{}},M),M.slider_textpanel_css_title["text-align"]=M.theme_text_align,M.slider_textpanel_css_description["text-align"]=M.theme_text_align,M.theme_text_type){case"title":M.slider_textpanel_enable_title=!0,M.slider_textpanel_enable_description=!1;break;case"both":M.slider_textpanel_enable_title=!0,M.slider_textpanel_enable_description=!0;break;default:case"description":}}function n(){w.addClass("ug-theme-default");var e="";e+="<div class='ug-theme-panel'>";var t="ug-default-button-fullscreen",i="ug-default-button-play",n=".ug-default-button-fullscreen",r=".ug-default-button-play";j||(t="ug-default-button-fullscreen-single",i="ug-default-button-play-single",n=".ug-default-button-fullscreen-single",r=".ug-default-button-play-single"),1==M.theme_enable_fullscreen_button&&(e+="<div class='"+t+"'></div>"),1==M.theme_enable_play_button&&(e+="<div class='"+i+"'></div>"),M.theme_enable_hidepanel_button&&(e+="<div class='ug-default-button-hidepanel'><div class='ug-default-button-hidepanel-bg'></div> <div class='ug-default-button-hidepanel-tip'></div></div>"),e+="</div>",w.append(e),S=w.children(".ug-theme-panel"),1==M.theme_enable_fullscreen_button&&(T=S.children(n)),1==M.theme_enable_play_button&&(x=S.children(r)),1==M.theme_enable_hidepanel_button&&(E=S.children(".ug-default-button-hidepanel")),P.setHtml(S),j&&j.appendHTML(S),I&&I.setHtml()}function r(){M.theme_load_panel&&(o(),a()),I&&(s(),I.run())}function o(){var e=C.getSize().width;P.setOrientation("bottom"),P.setWidth(e),P.run();var t=P.getSize().height;if(j){if(t+=N.slider_textpanel_height,E){var i=E.outerHeight();t+=i}}else{var n=0;E&&(n=Math.max(E.outerHeight(),n)),T&&(n=Math.max(T.outerHeight(),n)),x&&(n=Math.max(x.outerHeight(),n)),t+=n}A.setElementSize(S,e,t);var r=P.getElement();if(A.placeElement(r,"left","bottom"),E){var o=E.children(".ug-default-button-hidepanel-tip");if(A.placeElement(o,"center","middle"),j){var a=E.children(".ug-default-button-hidepanel-bg"),s=j.getOption("textpanel_bg_opacity");a.fadeTo(0,s);var l=j.getOption("textpanel_bg_color");a.css({"background-color":l})}}var u=0,d=0;if(E&&(d=i),T&&(A.placeElement(T,"right","top",0,d),u=T.outerWidth()),x){var c=d;j||c++,A.placeElement(x,"right","top",u,c),u+=x.outerWidth()}if(j){var g={};g.slider_textpanel_padding_right=M.theme_text_padding_right+u,g.slider_textpanel_padding_left=M.theme_text_padding_left,E&&(g.slider_textpanel_margin=i),j.setOptions(g),j.positionPanel(),j.run()}if(E)if(j)A.placeElement(E,"left","top");else{var h=r.outerHeight();A.placeElement(E,"left","bottom",0,h)}}function a(){if(k.isPanelHidden||1==l()){var e=h();A.placeElement(S,0,e),k.isPanelHidden=!0}else A.placeElement(S,0,"bottom")}function s(){var e=C.getHeight(),t=e;P&&0==c()&&(t=e-P.getSize().height);var i=C.getWidth();I.setSize(i,t),I.setPosition(0,0)}function l(){return!!M.theme_hide_panel_under_width&&jQuery(window).width()<=M.theme_hide_panel_under_width}function u(){if(!M.theme_hide_panel_under_width)return!1;1==l()?p(!0):_(!0)}function d(){r(),u()}function c(){return k.isPanelHidden}function g(e,t){var i={top:e+"px"};S.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function h(){var e=w.height();return E&&(e-=A.getElementSize(E).bottom),e}function p(e){if(!e)var e=!1;if(1==c())return!1;var t=h();1==e?A.placeElement(S,0,t):g(t,s),E&&E.addClass("ug-button-hidden-mode"),k.isPanelHidden=!0}function _(e){if(!e)var e=!1;if(0==c())return!1;var t=w.height()-S.outerHeight();1==e?A.placeElement(S,0,t):g(t,s),E&&E.removeClass("ug-button-hidden-mode"),k.isPanelHidden=!1}function f(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==A.validateClickTouchstartEvent(e.type))return!0;1==c()?_():p()}function m(){C.showDisabledOverlay()}function v(){b.on(C.events.SIZE_CHANGE,d),b.on(C.events.GALLERY_BEFORE_REQUEST_ITEMS,m),x&&(A.addClassOnHover(x,"ug-button-hover"),C.setPlayButton(x)),T&&(A.addClassOnHover(T,"ug-button-hover"),C.setFullScreenToggleButton(T)),E&&(A.setButtonMobileReady(E),A.addClassOnHover(E,"ug-button-hover"),E.on("click touchstart",f)),b.on(C.events.SLIDER_ACTION_START,function(){S.css("z-index","1"),I.getElement().css("z-index","11")}),b.on(C.events.SLIDER_ACTION_END,function(){S.css("z-index","11"),I.getElement().css("z-index","1")})}var b,y,w,T,x,E,I,S,P,j,C=new UniteGalleryMain,A=new UGFunctions,M={theme_load_slider:!0,theme_load_panel:!0,theme_enable_fullscreen_button:!0,theme_enable_play_button:!0,theme_enable_hidepanel_button:!0,theme_enable_text_panel:!0,theme_text_padding_left:20,theme_text_padding_right:5,theme_text_align:"left",theme_text_type:"description",theme_hide_panel_under_width:480},O={slider_controls_always_on:!0,slider_zoompanel_align_vert:"top",slider_zoompanel_offset_vert:12,slider_textpanel_padding_top:0,slider_textpanel_enable_title:!1,slider_textpanel_enable_description:!0,slider_vertical_scroll_ondrag:!0,strippanel_background_color:"#232323",strippanel_padding_top:10},N={slider_enable_text_panel:!1,slider_enable_play_button:!1,slider_enable_fullscreen_button:!1,slider_enable_text_panel:!1,slider_textpanel_height:50,slider_textpanel_align:"top"},k={isPanelHidden:!1};this.destroy=function(){b.off(C.events.SIZE_CHANGE),b.off(C.events.GALLERY_BEFORE_REQUEST_ITEMS),x&&C.destroyPlayButton(x),T&&C.destroyFullscreenButton(T),E&&A.destroyButton(E),b.off(C.events.SLIDER_ACTION_START),b.off(C.events.SLIDER_ACTION_END),I&&I.destroy(),P&&P.destroy(),j&&j.destroy()},this.run=function(){t()},this.init=function(t,i){e(t,i)}}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function i(e,t){var i=(t=t||ee).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function n(e){var t=!!e&&"length"in e&&e.length,i=he.type(e);return"function"!==i&&!he.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,i){return he.isFunction(t)?he.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?he.grep(e,function(e){return e===t!==i}):"string"!=typeof t?he.grep(e,function(e){return oe.call(t,e)>-1!==i}):xe.test(t)?he.filter(t,e,i):(t=he.filter(t,e),he.grep(e,function(e){return oe.call(t,e)>-1!==i&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(je)||[],function(e,i){t[i]=!0}),t}function s(e){return e}function l(e){throw e}function u(e,t,i){var n;try{e&&he.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&he.isFunction(n=e.then)?n.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}function d(){ee.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),he.ready()}function c(){this.expando=he.expando+c.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Le.test(e)?JSON.parse(e):e)}function h(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(He,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=g(i)}catch(e){}ke.set(e,t,i)}else i=void 0;return i}function p(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){return he.css(e,t,"")},l=s(),u=i&&i[3]||(he.cssNumber[t]?"":"px"),d=(he.cssNumber[t]||"px"!==u&&+l)&&De.exec(he.css(e,t));if(d&&d[3]!==u){u=u||d[3],i=i||[],d=+l||1;do{o=o||".5",d/=o,he.style(e,t,d+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=d,n.end=r)),r}function _(e){var t,i=e.ownerDocument,n=e.nodeName,r=We[n];return r||(t=i.body.appendChild(i.createElement(n)),r=he.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),We[n]=r,r)}function f(e,t){for(var i,n,r=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(r[o]=Ne.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&Ge(n)&&(r[o]=_(n))):"none"!==i&&(r[o]="none",Ne.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function m(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&he.nodeName(e,t)?he.merge([e],i):i}function v(e,t){for(var i=0,n=e.length;i<n;i++)Ne.set(e[i],"globalEval",!t||Ne.get(t[i],"globalEval"))}function b(e,t,i,n,r){for(var o,a,s,l,u,d,c=t.createDocumentFragment(),g=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===he.type(o))he.merge(g,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||c.appendChild(t.createElement("div")),s=(Be.exec(o)||["",""])[1].toLowerCase(),l=Ue[s]||Ue._default,a.innerHTML=l[1]+he.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;he.merge(g,a.childNodes),(a=c.firstChild).textContent=""}else g.push(t.createTextNode(o));for(c.textContent="",h=0;o=g[h++];)if(n&&he.inArray(o,n)>-1)r&&r.push(o);else if(u=he.contains(o.ownerDocument,o),a=m(c.appendChild(o),"script"),u&&v(a),i)for(d=0;o=a[d++];)Ye.test(o.type||"")&&i.push(o);return c}function y(){return!0}function w(){return!1}function T(){try{return ee.activeElement}catch(e){}}function x(e,t,i,n,r,o){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(s in t)x(e,s,i,n,t[s],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=w;else if(!r)return e;return 1===o&&(a=r,r=function(e){return he().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,r,n,i)})}function E(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function I(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function P(e,t){var i,n,r,o,a,s,l,u;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),a=Ne.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)he.event.add(t,r,u[r][i])}ke.hasData(e)&&(s=ke.access(e),l=he.extend({},s),ke.set(t,l))}}function j(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Fe.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function C(e,t,n,r){t=ne.apply([],t);var o,a,s,l,u,d,c=0,g=e.length,h=g-1,p=t[0],_=he.isFunction(p);if(_||g>1&&"string"==typeof p&&!ce.checkClone&&et.test(p))return e.each(function(i){var o=e.eq(i);_&&(t[0]=p.call(this,i,o.html())),C(o,t,n,r)});if(g&&(o=b(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=he.map(m(o,"script"),I)).length;c<g;c++)u=o,c!==h&&(u=he.clone(u,!0,!0),l&&he.merge(s,m(u,"script"))),n.call(e[c],u,c);if(l)for(d=s[s.length-1].ownerDocument,he.map(s,S),c=0;c<l;c++)u=s[c],Ye.test(u.type||"")&&!Ne.access(u,"globalEval")&&he.contains(d,u)&&(u.src?he._evalUrl&&he._evalUrl(u.src):i(u.textContent.replace(it,""),d))}return e}function A(e,t,i){for(var n,r=t?he.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||he.cleanData(m(n)),n.parentNode&&(i&&he.contains(n.ownerDocument,n)&&v(m(n,"script")),n.parentNode.removeChild(n));return e}function M(e,t,i){var n,r,o,a,s=e.style;return(i=i||ot(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!ce.pixelMarginRight()&&rt.test(a)&&nt.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=ut.length;i--;)if((e=ut[i]+t)in dt)return e}function k(e,t,i){var n=De.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function L(e,t,i,n,r){var o,a=0;for(o=i===(n?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===i&&(a+=he.css(e,i+Re[o],!0,r)),n?("content"===i&&(a-=he.css(e,"padding"+Re[o],!0,r)),"margin"!==i&&(a-=he.css(e,"border"+Re[o]+"Width",!0,r))):(a+=he.css(e,"padding"+Re[o],!0,r),"padding"!==i&&(a+=he.css(e,"border"+Re[o]+"Width",!0,r)));return a}function H(e,t,i){var n,r=!0,o=ot(e),a="border-box"===he.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(n=e.getBoundingClientRect()[t]),n<=0||null==n){if(((n=M(e,t,o))<0||null==n)&&(n=e.style[t]),rt.test(n))return n;r=a&&(ce.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+L(e,t,i||(a?"border":"content"),r,o)+"px"}function z(e,t,i,n,r){return new z.prototype.init(e,t,i,n,r)}function D(){gt&&(e.requestAnimationFrame(D),he.fx.tick())}function R(){return e.setTimeout(function(){ct=void 0}),ct=he.now()}function G(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)i=Re[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function Q(e,t,i){for(var n,r=(F.tweeners[t]||[]).concat(F.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function W(e,t){var i,n,r,o,a;for(i in e)if(n=he.camelCase(i),r=t[n],o=e[i],he.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=he.cssHooks[n])&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}function F(e,t,i){var n,r,o=0,a=F.prefilters.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ct||R(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(e,[u,n,i]),n<1&&a?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},i),originalProperties:t,originalOptions:i,startTime:ct||R(),duration:i.duration,tweens:[],createTween:function(t,i){var n=he.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),d=u.props;for(W(d,u.opts.specialEasing);o<a;o++)if(n=F.prefilters[o].call(u,e,d,u.opts))return he.isFunction(n.stop)&&(he._queueHooks(u.elem,u.opts.queue).stop=he.proxy(n.stop,n)),n;return he.map(d,Q,u),he.isFunction(u.opts.start)&&u.opts.start.call(e,u),he.fx.timer(he.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return(e.match(je)||[]).join(" ")}function Y(e){return e.getAttribute&&e.getAttribute("class")||""}function U(e,t,i,n){var r;if(he.isArray(t))he.each(t,function(t,r){i||Et.test(e)?n(e,r):U(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==he.type(t))n(e,t);else for(r in t)U(e+"["+r+"]",t[r],i,n)}function V(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(je)||[];if(he.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function q(e,t,i,n){function r(s){var l;return o[s]=!0,he.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Lt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function X(e,t){var i,n,r=he.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&he.extend(!0,e,n),e}function Z(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}function $(e,t,i,n){var r,o,a,s,l,u={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function K(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],ee=e.document,te=Object.getPrototypeOf,ie=J.slice,ne=J.concat,re=J.push,oe=J.indexOf,ae={},se=ae.toString,le=ae.hasOwnProperty,ue=le.toString,de=ue.call(Object),ce={},ge="3.1.1",he=function(e,t){return new he.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_e=/^-ms-/,fe=/-([a-z])/g,me=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:ge,constructor:he,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:J.sort,splice:J.splice},he.extend=he.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||he.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],n=e[t],a!==n&&(u&&n&&(he.isPlainObject(n)||(r=he.isArray(n)))?(r?(r=!1,o=i&&he.isArray(i)?i:[]):o=i&&he.isPlainObject(i)?i:{},a[t]=he.extend(u,o,n)):void 0!==n&&(a[t]=n));return a},he.extend({expando:"jQuery"+(ge+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==se.call(e)||(t=te(e))&&("function"!=typeof(i=le.call(t,"constructor")&&t.constructor)||ue.call(i)!==de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[se.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(_e,"ms-").replace(fe,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?he.merge(i,"string"==typeof e?[e]:e):re.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:oe.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,i))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,i))&&s.push(o);return ne.apply([],s)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),he.isFunction(e))return n=ie.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||he.guid++,r},now:Date.now,support:ce}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=J[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){var r,o,a,s,l,d,g,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:R)!==M&&A(t),t=t||M,N)){if(11!==p&&(l=_e.exec(e)))if(r=l[1]){if(9===p){if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(h&&(a=h.getElementById(r))&&z(t,a)&&a.id===r)return i.push(a),i}else{if(l[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(y.qsa&&!B[e+" "]&&(!k||!k.test(e))){if(1!==p)h=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,ye):t.setAttribute("id",s=D),o=(d=E(e)).length;o--;)d[o]="#"+s+" "+c(d[o]);g=d.join(","),h=fe.test(e)&&u(t.parentNode)||t}if(g)try{return Z.apply(i,h.querySelectorAll(g)),i}catch(e){}finally{s===D&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[D]=!0,e}function r(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Te(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return n(function(t){return t=+t,n(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function c(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function g(e,t,i){var n=t.dir,r=t.next,o=r||n,a=i&&"parentNode"===o,s=Q++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,r);return!1}:function(t,i,l){var u,d,c,g=[G,s];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=t[D]||(t[D]={}),d=c[t.uniqueID]||(c[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=d[o])&&u[0]===G&&u[1]===s)return g[2]=u[2];if(d[o]=g,g[2]=e(t,i,l))return!0}return!1}}function h(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function p(e,i,n){for(var r=0,o=i.length;r<o;r++)t(e,i[r],n);return n}function _(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),u&&t.push(s)));return a}function f(e,t,i,r,o,a){return r&&!r[D]&&(r=f(r)),o&&!o[D]&&(o=f(o,a)),n(function(n,a,s,l){var u,d,c,g=[],h=[],f=a.length,m=n||p(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?m:_(m,g,e,s,l),b=i?o||(n?e:f||r)?[]:a:v;if(i&&i(v,b,s,l),r)for(u=_(b,h),r(u,[],s,l),d=u.length;d--;)(c=u[d])&&(b[h[d]]=!(v[h[d]]=c));if(n){if(o||e){if(o){for(u=[],d=b.length;d--;)(c=b[d])&&u.push(v[d]=c);o(null,b=[],u,l)}for(d=b.length;d--;)(c=b[d])&&(u=o?K(n,c):g[d])>-1&&(n[u]=!(a[u]=c))}}else b=_(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function m(e){for(var t,i,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=g(function(e){return e===t},a,!0),u=g(function(e){return K(t,e)>-1},a,!0),d=[function(e,i,n){var r=!o&&(n||i!==P)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];s<r;s++)if(i=w.relative[e[s].type])d=[g(h(d),i)];else{if((i=w.filter[e[s].type].apply(null,e[s].matches))[D]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return f(s>1&&h(d),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),i,s<n&&m(e.slice(s,n)),n<r&&m(e=e.slice(n)),n<r&&c(e))}d.push(i)}return h(d)}function v(e,i){var r=i.length>0,o=e.length>0,a=function(n,a,s,l,u){var d,c,g,h=0,p="0",f=n&&[],m=[],v=P,b=n||o&&w.find.TAG("*",u),y=G+=null==v?1:Math.random()||.1,T=b.length;for(u&&(P=a===M||a||u);p!==T&&null!=(d=b[p]);p++){if(o&&d){for(c=0,a||d.ownerDocument===M||(A(d),s=!N);g=e[c++];)if(g(d,a||M,s)){l.push(d);break}u&&(G=y)}r&&((d=!g&&d)&&h--,n&&f.push(d))}if(h+=p,r&&p!==h){for(c=0;g=i[c++];)g(f,m,a,s);if(n){if(h>0)for(;p--;)f[p]||m[p]||(m[p]=q.call(l));m=_(m)}Z.apply(l,m),u&&!n&&m.length>0&&h+i.length>1&&t.uniqueSort(l)}return u&&(G=y,P=v),f};return r?n(a):a}var b,y,w,T,x,E,I,S,P,j,C,A,M,O,N,k,L,H,z,D="sizzle"+1*new Date,R=e.document,G=0,Q=0,W=i(),F=i(),B=i(),Y=function(e,t){return e===t&&(C=!0),0},U={}.hasOwnProperty,V=[],q=V.pop,X=V.push,Z=V.push,$=V.slice,K=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ne),de=new RegExp("^"+te+"$"),ce={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ve=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){A()},Te=g(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(V=$.call(R.childNodes),R.childNodes),V[R.childNodes.length].nodeType}catch(e){Z={apply:V.length?function(e,t){X.apply(e,$.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:R;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,O=M.documentElement,N=!x(M),R!==M&&(i=M.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),y.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=r(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=pe.test(M.getElementsByClassName),y.getById=r(function(e){return O.appendChild(e).id=D,!M.getElementsByName||!M.getElementsByName(D).length}),y.getById?(w.filter.ID=function(e){var t=e.replace(me,ve);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var i=t.getElementById(e);return i?[i]:[]}}):(w.filter.ID=function(e){var t=e.replace(me,ve);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),w.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&N)return t.getElementsByClassName(e)},L=[],k=[],(y.qsa=pe.test(M.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+D+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||k.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(y.matchesSelector=pe.test(H=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){y.disconnectedMatch=H.call(e,"*"),H.call(e,"[s!='']:x"),L.push("!=",ne)}),k=k.length&&new RegExp(k.join("|")),L=L.length&&new RegExp(L.join("|")),t=pe.test(O.compareDocumentPosition),z=t||pe.test(O.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return C=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===M||e.ownerDocument===R&&z(R,e)?-1:t===M||t.ownerDocument===R&&z(R,t)?1:j?K(j,e)-K(j,t):0:4&i?-1:1)}:function(e,t){if(e===t)return C=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===M?-1:t===M?1:r?-1:o?1:j?K(j,e)-K(j,t):0;if(r===o)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===R?-1:l[n]===R?1:0},M):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&A(e),i=i.replace(le,"='$1']"),y.matchesSelector&&N&&!B[i+" "]&&(!L||!L.test(i))&&(!k||!k.test(i)))try{var n=H.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&A(e);var i=w.attrHandle[t.toLowerCase()],n=i&&U.call(w.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:y.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(be,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(C=!y.detectDuplicates,j=!y.sortStable&&e.slice(0),e.sort(Y),C){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return j=null,e},T=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=T(t);return i},(w=t.selectors={cacheLength:50,createPseudo:n,match:ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(re," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,d,c,g,h,p,_=o!==a?"nextSibling":"previousSibling",f=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(f){if(o){for(;_;){for(g=t;g=g[_];)if(s?g.nodeName.toLowerCase()===m:1===g.nodeType)return!1;p=_="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?f.firstChild:f.lastChild],a&&v){for(b=(h=(u=(d=(c=(g=f)[D]||(g[D]={}))[g.uniqueID]||(c[g.uniqueID]={}))[e]||[])[0]===G&&u[1])&&u[2],g=h&&f.childNodes[h];g=++h&&g&&g[_]||(b=h=0)||p.pop();)if(1===g.nodeType&&++b&&g===t){d[e]=[G,h,b];break}}else if(v&&(g=t,c=g[D]||(g[D]={}),d=c[g.uniqueID]||(c[g.uniqueID]={}),u=d[e]||[],h=u[0]===G&&u[1],b=h),!1===b)for(;(g=++h&&g&&g[_]||(b=h=0)||p.pop())&&((s?g.nodeName.toLowerCase()!==m:1!==g.nodeType)||!++b||(v&&(c=g[D]||(g[D]={}),d=c[g.uniqueID]||(c[g.uniqueID]={}),d[e]=[G,b]),g!==t)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[D]?o(i):o.length>1?(r=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=o(e,i),a=r.length;a--;)n=K(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],i=[],r=I(e.replace(oe,"$1"));return r[D]?n(function(e,t,i,n){for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(me,ve),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:n(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ve).toLowerCase(),function(t){var i;do{if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,i){return[i<0?i+t:i]}),even:l(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:l(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:l(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:l(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,E=t.tokenize=function(e,i){var n,r,o,a,s,l,u,d=F[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],u=w.preFilter;s;){n&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=se.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(oe," ")}),s=s.slice(n.length));for(a in w.filter)!(r=ce[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):F(e,l).slice(0)},I=t.compile=function(e,t){var i,n=[],r=[],o=B[e+" "];if(!o){for(t||(t=E(e)),i=t.length;i--;)(o=m(t[i]))[D]?n.push(o):r.push(o);(o=B(e,v(r,n))).selector=e}return o},S=t.select=function(e,t,i,n){var r,o,a,s,l,d="function"==typeof e&&e,g=!n&&E(e=d.selector||e);if(i=i||[],1===g.length){if((o=g[0]=g[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&N&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(me,ve),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ce.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(me,ve),fe.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&c(o)))return Z.apply(i,n),i;break}}return(d||I(e,g))(n,t,!N,i,!t||fe.test(e)&&u(t.parentNode)||t),i},y.sortStable=D.split("").sort(Y).join("")===D,y.detectDuplicates=!!C,A(),y.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(J,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);he.find=ve,he.expr=ve.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=ve.uniqueSort,he.text=ve.getText,he.isXMLDoc=ve.isXML,he.contains=ve.contains,he.escapeSelector=ve.escape;var be=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&he(e).is(i))break;n.push(e)}return n},ye=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},we=he.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xe=/^.[^:#\[\.,]*$/;he.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?he.find.matchesSelector(n,e)?[n]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<n;t++)if(he.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)he.find(e,r[t],i);return n>1?he.uniqueSort(i):i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&we.test(e)?he(e):e||[],!1).length}});var Ee,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(he.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||Ee,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),Te.test(n[1])&&he.isPlainObject(t))for(n in t)he.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=ee.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==i.ready?i.ready(e):e(he):he.makeArray(e,this)}).prototype=he.fn,Ee=he(ee);var Se=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],a="string"!=typeof e&&he(e);if(!we.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&he.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?oe.call(he(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,i){return be(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,i){return be(e,"nextSibling",i)},prevUntil:function(e,t,i){return be(e,"previousSibling",i)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(i,n){var r=he.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=he.filter(n,r)),this.length>1&&(Pe[e]||he.uniqueSort(r),Se.test(e)&&r.reverse()),this.pushStack(r)}});var je=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?a(e):he.extend({},e);var t,i,n,r,o=[],s=[],l=-1,u=function(){for(r=e.once,n=t=!0;s.length;l=-1)for(i=s.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(l=o.length-1,s.push(i)),function t(i){he.each(i,function(i,n){he.isFunction(n)?e.unique&&d.has(n)||o.push(n):n&&n.length&&"string"!==he.type(n)&&t(n)})}(arguments),i&&!t&&u()),this},remove:function(){return he.each(arguments,function(e,t){for(var i;(i=he.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||t||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},he.extend({Deferred:function(t){var i=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(i,function(i,n){var r=he.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){function o(t,i,n,r){return function(){var u=this,d=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(u,d))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,he.isFunction(c)?r?c.call(e,o(a,i,s,r),o(a,i,l,r)):(a++,c.call(e,o(a,i,s,r),o(a,i,l,r),o(a,i,s,i.notifyWith))):(n!==s&&(u=void 0,d=[e]),(r||i.resolveWith)(u,d))}},g=r?c:function(){try{c()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,g.stackTrace),t+1>=a&&(n!==l&&(u=void 0,d=[e]),i.rejectWith(u,d))}};t?g():(he.Deferred.getStackHook&&(g.stackTrace=he.Deferred.getStackHook()),e.setTimeout(g))}}var a=0;return he.Deferred(function(e){i[0][3].add(o(0,e,he.isFunction(r)?r:s,e.notifyWith)),i[1][3].add(o(0,e,he.isFunction(t)?t:s)),i[2][3].add(o(0,e,he.isFunction(n)?n:l))}).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},o={};return he.each(i,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){n=s},i[3-e][2].disable,i[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=ie.call(arguments),o=he.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?ie.call(arguments):i,--t||o.resolveWith(n,r)}};if(t<=1&&(u(e,o.done(a(i)).resolve,o.reject),"pending"===o.state()||he.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)u(r[i],a(i),o.reject);return o.promise()}});var Ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Ce.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=he.Deferred();he.fn.ready=function(e){return Ae.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||Ae.resolveWith(ee,[he]))}}),he.ready.then=Ae.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?e.setTimeout(he.ready):(ee.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Me=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=null==i;if("object"===he.type(i)){r=!0;for(s in i)Me(e,t,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,he.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(he(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):o},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};c.uid=1,c.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[he.camelCase(t)]=i;else for(n in t)r[he.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in n?[t]:t.match(je)||[]),i=t.length;for(;i--;)delete n[t[i]]}(void 0===t||he.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Ne=new c,ke=new c,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,He=/[A-Z]/g;he.extend({hasData:function(e){return ke.hasData(e)||Ne.hasData(e)},data:function(e,t,i){return ke.access(e,t,i)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,i){return Ne.access(e,t,i)},_removeData:function(e,t){Ne.remove(e,t)}}),he.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ke.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=he.camelCase(n.slice(5)),h(o,n,r[n]));Ne.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ke.set(this,e)}):Me(this,function(t){var i;if(o&&void 0===t){if(void 0!==(i=ke.get(o,e)))return i;if(void 0!==(i=h(o,e)))return i}else this.each(function(){ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),he.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Ne.get(e,t),i&&(!n||he.isArray(i)?n=Ne.access(e,t,he.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=he.queue(e,t),n=i.length,r=i.shift(),o=he._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){he.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ne.get(e,i)||Ne.access(e,i,{empty:he.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",i])})})}}),he.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?he.queue(this[0],e):void 0===t?this:this.each(function(){var i=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=he.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Ne.get(o[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Ge=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},Qe=function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r},We={};he.fn.extend({show:function(){return f(this,!0)},hide:function(){return f(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?he(this).show():he(this).hide()})}});var Fe=/^(?:checkbox|radio)$/i,Be=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ye=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var Ve=/<|&#?\w+;/;!function(){var e=ee.createDocumentFragment().appendChild(ee.createElement("div")),t=ee.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var qe=ee.documentElement,Xe=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$e=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,u,d,c,g,h,p,_,f=Ne.get(e);if(f)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&he.find.matchesSelector(qe,r),i.guid||(i.guid=he.guid++),(l=f.events)||(l=f.events={}),(a=f.handle)||(a=f.handle=function(t){return void 0!==he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(je)||[""]).length;u--;)s=$e.exec(t[u])||[],h=_=s[1],p=(s[2]||"").split(".").sort(),h&&(c=he.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=he.event.special[h]||{},d=he.extend({type:h,origType:_,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:p.join(".")},o),(g=l[h])||(g=l[h]=[],g.delegateCount=0,c.setup&&!1!==c.setup.call(e,n,p,a)||e.addEventListener&&e.addEventListener(h,a)),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?g.splice(g.delegateCount++,0,d):g.push(d),he.event.global[h]=!0)},remove:function(e,t,i,n,r){var o,a,s,l,u,d,c,g,h,p,_,f=Ne.hasData(e)&&Ne.get(e);if(f&&(l=f.events)){for(u=(t=(t||"").match(je)||[""]).length;u--;)if(s=$e.exec(t[u])||[],h=_=s[1],p=(s[2]||"").split(".").sort(),h){for(c=he.event.special[h]||{},g=l[h=(n?c.delegateType:c.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=g.length;o--;)d=g[o],!r&&_!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(g.splice(o,1),d.selector&&g.delegateCount--,c.remove&&c.remove.call(e,d));a&&!g.length&&(c.teardown&&!1!==c.teardown.call(e,p,f.handle)||he.removeEvent(e,h,f.handle),delete l[h])}else for(h in l)he.event.remove(e,h+t[u],i,n,!0);he.isEmptyObject(l)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,a,s=he.event.fix(e),l=new Array(arguments.length),u=(Ne.get(this,"events")||{})[s.type]||[],d=he.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(a=he.event.handlers.call(this,s,u),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(e,t){var i,n,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},i=0;i<l;i++)n=t[i],r=n.selector+" ",void 0===a[r]&&(a[r]=n.needsContext?he(r,this).index(u)>-1:he.find(r,this,null,[u]).length),a[r]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&he.nodeName(this,"input"))return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===n||he.contains(n,r))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),he.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,he(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=w),this.each(function(){he.event.remove(this,e,i,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,i){var n,r,o,a,s=e.cloneNode(!0),l=he.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=m(s),o=m(e),n=0,r=o.length;n<r;n++)j(o[n],a[n]);if(t)if(i)for(o=o||m(e),a=a||m(s),n=0,r=o.length;n<r;n++)P(o[n],a[n]);else P(e,s);return(a=m(s,"script")).length>0&&v(a,!l&&m(e,"script")),s},cleanData:function(e){for(var t,i,n,r=he.event.special,o=0;void 0!==(i=e[o]);o++)if(Oe(i)){if(t=i[Ne.expando]){if(t.events)for(n in t.events)r[n]?he.event.remove(i,n):he.removeEvent(i,n,t.handle);i[Ne.expando]=void 0}i[ke.expando]&&(i[ke.expando]=void 0)}}}),he.fn.extend({detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Me(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||E(this,e).appendChild(e)})},prepend:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!Ue[(Be.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(he.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return C(this,arguments,function(t){var i=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(m(this)),i&&i.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var i,n=[],r=he(e),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),he(r[a])[t](i),re.apply(n,i.get());return this.pushStack(n)}});var nt=/^margin/,rt=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),ot=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",qe.appendChild(a);var t=e.getComputedStyle(s);i="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,qe.removeChild(a),s=null}}var i,n,r,o,a=ee.createElement("div"),s=ee.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(ce,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],dt=ee.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=M(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=he.camelCase(t),l=e.style;return t=he.cssProps[s]||(he.cssProps[s]=N(s)||s),a=he.cssHooks[t]||he.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t]:("string"===(o=typeof i)&&(r=De.exec(i))&&r[1]&&(i=p(e,t,r),o="number"),void(null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(he.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var r,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=N(s)||s),(a=he.cssHooks[t]||he.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=M(e,t,n)),"normal"===r&&t in lt&&(r=lt[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,i,n){if(i)return!at.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?H(e,t,n):Qe(e,st,function(){return H(e,t,n)})},set:function(e,i,n){var r,o=n&&ot(e),a=n&&L(e,t,n,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(r=De.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=he.css(e,t)),k(0,i,a)}}}),he.cssHooks.marginLeft=O(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Re[n]+t]=o[n]||o[n-2]||o[0];return r}},nt.test(e)||(he.cssHooks[e+t].set=k)}),he.fn.extend({css:function(e,t){return Me(this,function(e,t,i){var n,r,o={},a=0;if(he.isArray(t)){for(n=ot(e),r=t.length;a<r;a++)o[t[a]]=he.css(e,t[a],!1,n);return o}return void 0!==i?he.style(e,t,i):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=z,z.prototype={constructor:z,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(he.cssNumber[i]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,i=z.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=z.prototype.init,he.fx.step={};var ct,gt,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;he.Animation=he.extend(F,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return p(i.elem,e,De.exec(t),i),i}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(je);for(var i,n=0,r=e.length;n<r;n++)i=e[n],F.tweeners[i]=F.tweeners[i]||[],F.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,a,s,l,u,d,c="width"in t||"height"in t,g=this,h={},p=e.style,_=e.nodeType&&Ge(e),m=Ne.get(e,"fxshow");i.queue||(null==(a=he._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,g.always(function(){g.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(n in t)if(r=t[n],ht.test(r)){if(delete t[n],o=o||"toggle"===r,r===(_?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;_=!0}h[n]=m&&m[n]||he.style(e,n)}if((l=!he.isEmptyObject(t))||!he.isEmptyObject(h)){c&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=Ne.get(e,"display")),"none"===(d=he.css(e,"display"))&&(u?d=u:(f([e],!0),u=e.style.display||u,d=he.css(e,"display"),f([e]))),("inline"===d||"inline-block"===d&&null!=u)&&"none"===he.css(e,"float")&&(l||(g.done(function(){p.display=u}),null==u&&(d=p.display,u="none"===d?"":d)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",g.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in h)l||(m?"hidden"in m&&(_=m.hidden):m=Ne.access(e,"fxshow",{display:u}),o&&(m.hidden=!_),_&&f([e],!0),g.done(function(){_||f([e]),Ne.remove(e,"fxshow");for(n in h)he.style(e,n,h[n])})),l=Q(_?m[n]:0,n,g),n in m||(m[n]=l.start,_&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),he.speed=function(e,t,i){var n=e&&"object"==typeof e?he.extend({},e):{complete:i||!i&&t||he.isFunction(e)&&e,duration:e,easing:i&&t||t&&!he.isFunction(t)&&t};return he.fx.off||ee.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in he.fx.speeds?n.duration=he.fx.speeds[n.duration]:n.duration=he.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){he.isFunction(n.old)&&n.old.call(this),n.queue&&he.dequeue(this,n.queue)},n},he.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=he.isEmptyObject(e),o=he.speed(t,i,n),a=function(){var t=F(this,he.extend({},e),o);(r||Ne.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=he.timers,a=Ne.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Ne.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=he.timers,a=n?n.length:0;for(i.finish=!0,he.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),he.each(["toggle","show","hide"],function(e,t){var i=he.fn[t];he.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(G(t,!0),e,n,r)}}),he.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),he.timers=[],he.fx.tick=function(){var e,t=0,i=he.timers;for(ct=he.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||he.fx.stop(),ct=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){gt||(gt=e.requestAnimationFrame?e.requestAnimationFrame(D):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(gt):e.clearInterval(gt),gt=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,i){return t=he.fx?he.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=ee.createElement("input"),t=ee.createElement("select").appendChild(ee.createElement("option"));e.type="checkbox",ce.checkOn=""!==e.value,ce.optSelected=t.selected,(e=ee.createElement("input")).value="t",e.type="radio",ce.radioValue="t"===e.value}();var _t,ft=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Me(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?he.prop(e,t,i):(1===o&&he.isXMLDoc(e)||(r=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?_t:void 0)),void 0!==i?null===i?void he.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=he.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&he.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(je);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),_t={set:function(e,t,i){return!1===t?he.removeAttr(e,i):e.setAttribute(i,i),i}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ft[t]||he.find.attr;ft[t]=function(e,t,n){var r,o,a=t.toLowerCase();return n||(o=ft[a],ft[a]=r,r=null!=i(e,t,n)?a:null,ft[a]=o),r}});var mt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Me(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,r=he.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,Y(this)))});if("string"==typeof e&&e)for(t=e.match(je)||[];i=this[l++];)if(r=Y(i),n=1===i.nodeType&&" "+B(r)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(s=B(n))&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(je)||[];i=this[l++];)if(r=Y(i),n=1===i.nodeType&&" "+B(r)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(s=B(n))&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(i){he(this).toggleClass(e.call(this,i,Y(this),t),t)}):this.each(function(){var t,n,r,o;if("string"===i)for(n=0,r=he(this),o=e.match(je)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=Y(this))&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+B(Y(i))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;he.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=he.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,he(this).val()):e)?r="":"number"==typeof r?r+="":he.isArray(r)&&(r=he.map(r,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(bt,""):null==i?"":i:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:B(he.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!he.nodeName(i.parentNode,"optgroup"))){if(t=he(i).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,o=he.makeArray(t),a=r.length;a--;)n=r[a],(n.selected=he.inArray(he.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},ce.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,i,n,r){var o,a,s,l,u,d,c,g=[n||ee],h=le.call(t,"type")?t.type:t,p=le.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||ee,3!==n.nodeType&&8!==n.nodeType&&!yt.test(h+he.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[he.expando]?t:new he.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:he.makeArray(i,[t]),c=he.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(n,i))){if(!r&&!c.noBubble&&!he.isWindow(n)){for(l=c.delegateType||h,yt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)g.push(a),s=a;s===(n.ownerDocument||ee)&&g.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)t.type=o>1?l:c.bindType||h,(d=(Ne.get(a,"events")||{})[t.type]&&Ne.get(a,"handle"))&&d.apply(a,i),(d=u&&a[u])&&d.apply&&Oe(a)&&(t.result=d.apply(a,i),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(g.pop(),i)||!Oe(n)||u&&he.isFunction(n[h])&&!he.isWindow(n)&&((s=n[u])&&(n[u]=null),he.event.triggered=h,n[h](),he.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(e,t,i){var n=he.extend(new he.Event,i,{type:e,isSimulated:!0});he.event.trigger(n,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return he.event.trigger(e,t,i,!0)}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in e,ce.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Ne.access(n,t);r||n.addEventListener(e,i,!0),Ne.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Ne.access(n,t)-1;r?Ne.access(n,t,r):(n.removeEventListener(e,i,!0),Ne.remove(n,t))}}});var wt=e.location,Tt=he.now(),xt=/\?/;he.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),i};var Et=/\[\]$/,It=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var i,n=[],r=function(e,t){var i=he.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){r(this.name,this.value)});else for(i in e)U(i,e[i],t,r);return n.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Pt.test(this.nodeName)&&!St.test(e)&&(this.checked||!Fe.test(e))}).map(function(e,t){var i=he(this).val();return null==i?null:he.isArray(i)?he.map(i,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:i.replace(It,"\r\n")}}).get()}});var jt=/%20/g,Ct=/#.*$/,At=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Nt=/^\/\//,kt={},Lt={},Ht="*/".concat("*"),zt=ee.createElement("a");zt.href=wt.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?X(X(e,he.ajaxSettings),t):X(he.ajaxSettings,e)},ajaxPrefilter:V(kt),ajaxTransport:V(Lt),ajax:function(t,i){function n(t,i,n,s){var u,g,h,y,w,T=i;d||(d=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(y=Z(p,x,n)),y=$(p,y,x,u),u?(p.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(he.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(he.etag[o]=w)),204===t||"HEAD"===p.type?T="nocontent":304===t?T="notmodified":(T=y.state,g=y.data,h=y.error,u=!h)):(h=T,!t&&T||(T="error",t<0&&(t=0))),x.status=t,x.statusText=(i||T)+"",u?m.resolveWith(_,[g,T,x]):m.rejectWith(_,[x,T,h]),x.statusCode(b),b=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?g:h]),v.fireWith(_,[x,T]),c&&(f.trigger("ajaxComplete",[x,p]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,o,a,s,l,u,d,c,g,h,p=he.ajaxSetup({},i),_=p.context||p,f=p.context&&(_.nodeType||_.jquery)?he(_):he.event,m=he.Deferred(),v=he.Callbacks("once memory"),b=p.statusCode||{},y={},w={},T="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(d){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?a:null},setRequestHeader:function(e,t){return null==d&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)x.always(e[x.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return r&&r.abort(t),n(0,t),this}};if(m.promise(x),p.url=((t||p.url||wt.href)+"").replace(Nt,wt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(je)||[""],null==p.crossDomain){u=ee.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=zt.protocol+"//"+zt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=he.param(p.data,p.traditional)),q(kt,p,i,x),d)return x;(c=he.event&&p.global)&&0==he.active++&&he.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ot.test(p.type),o=p.url.replace(Ct,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(jt,"+")):(h=p.url.slice(o.length),p.data&&(o+=(xt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(At,"$1"),h=(xt.test(o)?"&":"?")+"_="+Tt+++h),p.url=o+h),p.ifModified&&(he.lastModified[o]&&x.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&x.setRequestHeader("If-None-Match",he.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]);for(g in p.headers)x.setRequestHeader(g,p.headers[g]);if(p.beforeSend&&(!1===p.beforeSend.call(_,x,p)||d))return x.abort();if(T="abort",v.add(p.complete),x.done(p.success),x.fail(p.error),r=q(Lt,p,i,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),d)return x;p.async&&p.timeout>0&&(l=e.setTimeout(function(){x.abort("timeout")},p.timeout));try{d=!1,r.send(y,n)}catch(e){if(d)throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return he.get(e,t,i,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,i,n,r){return he.isFunction(i)&&(r=r||n,n=i,i=void 0),he.ajax(he.extend({url:e,type:t,dataType:r,data:i,success:n},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(i){he(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Dt={0:200,1223:204},Rt=he.ajaxSettings.xhr();ce.cors=!!Rt&&"withCredentials"in Rt,ce.ajax=Rt=!!Rt,he.ajaxTransport(function(t){var i,n;if(ce.cors||Rt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Dt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Gt=[],Qt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||he.expando+"_"+Tt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+r):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||he.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){void 0===o?he(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Gt.push(r)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ce.createHTMLDocument=function(){var e=ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var n,r,o;return t||(ce.createHTMLDocument?(t=ee.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=ee.location.href,t.head.appendChild(n)):t=ee),r=Te.exec(e),o=!i&&[],r?[t.createElement(r[1])]:(r=b([e],t,o),o&&o.length&&he(o).remove(),he.merge([],r.childNodes))},he.fn.load=function(e,t,i){var n,r,o,a=this,s=e.indexOf(" ");return s>-1&&(n=B(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&he.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?he("<div>").append(he.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,u=he.css(e,"position"),d=he(e),c={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=he.css(e,"top"),l=he.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(n=d.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),he.isFunction(t)&&(t=t.call(e,i,he.extend({},s))),null!=t.top&&(c.top=t.top-s.top+a),null!=t.left&&(c.left=t.left-s.left+r),"using"in t?t.using.call(e,c):d.css(c)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,i,n,r,o=this[0];return o?o.getClientRects().length?(n=o.getBoundingClientRect()).width||n.height?(r=o.ownerDocument,i=K(r),t=r.documentElement,{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===he.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n={top:n.top+he.css(e[0],"borderTopWidth",!0),left:n.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-he.css(i,"marginTop",!0),left:t.left-n.left-he.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||qe})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;he.fn[e]=function(n){return Me(this,function(e,n,r){var o=K(e);return void 0===r?o?o[t]:e[n]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[n]=r)},e,n,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=O(ce.pixelPosition,function(e,i){if(i)return i=M(e,t),rt.test(i)?he(e).position()[t]+"px":i})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){he.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return Me(this,function(t,i,r){var o;return he.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?he.css(t,i,s):he.style(t,i,r,s)},t,a?r:void 0,a)}})}),he.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Wt=e.jQuery,Ft=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Ft),t&&e.jQuery===he&&(e.jQuery=Wt),he},t||(e.jQuery=e.$=he),he});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,d=0,c=0,g=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(c=-1*a.detail),"wheelDelta"in a&&(c=a.wheelDelta),"wheelDeltaY"in a&&(c=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*c,c=0),u=0===c?d:c,"deltaY"in a&&(c=-1*a.deltaY,u=c),"deltaX"in a&&(d=a.deltaX,0===c&&(u=-1*d)),0!==c||0!==d){if(1===a.deltaMode){var h=e.data(this,"mousewheel-line-height");u*=h,c*=h,d*=h}else if(2===a.deltaMode){var p=e.data(this,"mousewheel-page-height");u*=p,c*=p,d*=p}return g=Math.max(Math.abs(c),Math.abs(d)),(!o||o>g)&&(o=g,n(a,g)&&(o/=40)),n(a,g)&&(u/=40,d/=40,c/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),c=Math[c>=1?"floor":"ceil"](c/o),t.deltaX=d,t.deltaY=c,t.deltaFactor=o,t.deltaMode=0,s.unshift(t,u,d,c),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return 1/i>e?t*e*e:2/i>e?t*(e-=1.5/i)*e+.75:2.5/i>e?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,a=Math.PI,s=1.70158,l=1.525*s,u=s+1,d=2*a/3,c=2*a/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return.5>e?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return.5>e?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*a/2)},easeOutSine:function(e){return r(e*a/2)},easeInOutSine:function(e){return-(o(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:.5>e?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return.5>e?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:.5>e?-i(2,20*e-10)*r((20*e-11.125)*c)/2:i(2,-20*e+10)*r((20*e-11.125)*c)/2+1},easeInBack:function(e){return u*e*e*e-s*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+s*i(e-1,2)},easeInOutBack:function(e){return.5>e?i(2*e,2)*(2*(l+1)*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return.5>e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=l(),n=i._rgba=[];return t=t.toLowerCase(),h(s,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=i[l](s),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return 1>6*(i=(i+1)%1)?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}if(void 0===e.cssHooks)return!1;var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},g=e("<p>")[0],h=e.each;g.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=g.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(r,a,s,d){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var c=this,g=e.type(r),p=this._rgba=[];return a!==t&&(r=[r,a,s,d],g="array"),"string"===g?this.parse(n(r)||o._default):"array"===g?(h(u.rgba.props,function(e,t){p[t.idx]=i(r[t.idx],t)}),this):"object"===g?(r instanceof l?h(u,function(e,t){r[t.cache]&&(c[t.cache]=r[t.cache].slice())}):h(u,function(t,n){var o=n.cache;h(n.props,function(e,t){if(!c[o]&&n.to){if("alpha"===e||null==r[e])return;c[o]=n.to(c._rgba)}c[o][t.idx]=i(r[e],t,!0)}),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(e){var t=l(e),i=!0,n=this;return h(u,function(e,r){var o,a=t[r.cache];return a&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],h(r.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return h(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=l(e),r=n._space(),o=u[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),c=s.slice();return n=n[o.cache],h(o.props,function(e,r){var o=r.idx,a=s[o],l=n[o],u=d[r.type]||{};null!==l&&(null===a?c[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),c[o]=i((l-a)*t+a,r)))}),this[r](c)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(t)._rgba;return l(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,d=s+l,c=.5*d;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,i,c,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],a=.5>=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},h(u,function(n,r){var o=r.props,s=r.cache,u=r.to,d=r.from;l.fn[n]=function(n){if(u&&!this[s]&&(this[s]=u(this._rgba)),n===t)return this[s].slice();var r,a=e.type(n),c="array"===a||"object"===a?n:arguments,g=this[s].slice();return h(o,function(e,t){var n=c["object"===a?e:t.idx];null==n&&(n=g[t.idx]),g[t.idx]=i(n,t)}),d?(r=l(d(g)),r[s]=g,r):l(g)},h(o,function(t,i){l.fn[t]||(l.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),d=u[i.idx];return"undefined"===s?d:("function"===s&&(r=r.call(this,d),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r))&&(r=d+parseFloat(o[2])*("+"===o[1]?1:-1)),u[i.idx]=r,this[l](u)))})})}),l.hook=function(t){var i=t.split(" ");h(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=l(o||r),!c.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(e){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");if(!e)var e={};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("default"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("default")}),jQuery(document).ready(function(){jQuery("#gallery").unitegallery()});